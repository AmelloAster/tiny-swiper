{"version":3,"file":"index.esm.js","sources":["../src/lib.js","../src/core.js","../src/modules/lazyload.js","../src/modules/pagination.js"],"sourcesContent":["export function addClassName (el, list = []) {\n    if (!Array.isArray(list)) list = [list]\n\n    list.forEach(clz => (!el.classList.contains(clz) && el.classList.add(clz)))\n}\n\nexport function removeClassName (el, list = []) {\n    if (!Array.isArray(list)) list = [list]\n\n    list.forEach(clz => (el.classList.contains(clz) && el.classList.remove(clz)))\n}\n\nexport function detectTouch () {\n    return Boolean(\n        'ontouchstart' in window\n        || window.navigator.maxTouchPoints > 0\n        || window.navigator.msMaxTouchPoints > 0\n        || window.DocumentTouch && document instanceof DocumentTouch\n    )\n}\n\n/**\n * get Element transform\n * @param {HTMLElement} el\n * @param {Boolean} isHorizontal\n * @returns {Number}\n */\nexport function getTranslate (el, isHorizontal) {\n    const matrix = getComputedStyle(el).transform.replace(/[a-z]|\\(|\\)|\\s/g, '').split(',').map(parseFloat)\n    let arr\n\n    if (matrix.length === 16) {\n        arr = matrix.slice(12, 14)\n    } else if (matrix.length === 6) {\n        arr = matrix.slice(4, 6)\n    }\n    return arr[isHorizontal ? 0 : 1] || 0\n}\n","import {\n    addClassName,\n    removeClassName,\n    detectTouch,\n    getTranslate\n} from './lib.js'\n\nconst formEls = [\n    'INPUT',\n    'SELECT',\n    'OPTION',\n    'TEXTAREA',\n    'BUTTON',\n    'VIDEO'\n]\n\n// eslint-disable-next-line\nconst hooks = [\n    'before-init',\n    'after-init',\n    'before-slide',\n    'after-slide',\n    'before-destroy',\n    'after-destroy'\n]\n\n/**\n * Swiper Class\n */\nexport default class Swiper {\n    constructor (el, config) {\n        config = Swiper.formatConfig(config)\n        el = typeof el === 'string' ? document.body.querySelector(el) : el\n\n        this.index = 0\n        this.scrolling = false\n        this.config = config\n        this.supportTouch = detectTouch()\n        this.$el = el\n        this.$wrapper = el.querySelector(`.${config.wrapperClass}`)\n        this.eventHub = {}\n        this.initPlugins(config.plugins || Swiper.plugins)\n        this.emit('before-init', this)\n        this.initListener()\n        this.initTouchStatus()\n        this.initWheelStatus()\n        this.update()\n        this.attachListener()\n        this.emit('after-init', this)\n        this.scroll(config.initialSlide)\n    }\n\n    static use (plugins) {\n        Swiper.plugins = plugins\n    }\n\n    static formatConfig (config = {}) {\n        const defaultConfig = {\n            direction: 'horizontal',\n            touchRatio: 1,\n            touchAngle: 45,\n            longSwipesRatio: 0.5,\n            initialSlide: 0,\n            loop: false,\n            mousewheel: false,\n            pagination: false,\n            passiveListeners: true,\n            resistance: true,\n            resistanceRatio: 0.85,\n            speed: 300,\n            longSwipesMs: 300,\n            intermittent: 0,\n            spaceBetween: 0,\n            slidesPerView: 1,\n            centeredSlides: false,\n            slidePrevClass: 'swiper-slide-prev',\n            slideNextClass: 'swiper-slide-next',\n            slideActiveClass: 'swiper-slide-active',\n            slideClass: 'swiper-slide',\n            wrapperClass: 'swiper-wrapper',\n            touchStartPreventDefault: true,\n            touchStartForcePreventDefault: false,\n            touchMoveStopPropagation: false,\n            excludeElements: []\n        }\n        if (config.mousewheel) {\n            config.mousewheel = {\n                invert: false,\n                sensitivity: 1,\n                ...config.mousewheel\n            }\n        }\n\n        return {\n            ...defaultConfig,\n            ...config\n        }\n    }\n\n    initPlugins (plugins) {\n        (plugins || []).forEach(plugin => plugin(this))\n    }\n\n    on (evtName, cb) {\n        const { eventHub } = this\n\n        if (!eventHub[evtName]) {\n            eventHub[evtName] = [cb]\n        } else {\n            eventHub[evtName].push(cb)\n        }\n    }\n\n    off (evtName, cb) {\n        const { eventHub } = this\n\n        if (eventHub[evtName]) {\n            const index = eventHub[evtName].indexOf(cb)\n\n            index > -1 && eventHub[evtName].splice(index, 1)\n        }\n    }\n\n    emit (evtName, ...data) {\n        const { eventHub } = this\n\n        if (eventHub[evtName]) {\n            eventHub[evtName].forEach(cb => cb(...data))\n        }\n    }\n\n    initListener () {\n        const {\n            $wrapper,\n            config,\n            supportTouch\n        } = this\n\n        this.listeners = {\n            handleTouchStart: e => {\n                for (let i = 0; i < config.excludeElements.length; i++) {\n                    if (config.excludeElements[i].contains(e.target)) return\n                }\n\n                this.initTouchStatus()\n                const { touchStatus } = this\n                const shouldPreventDefault = (config.touchStartPreventDefault && formEls.indexOf(e.target.nodeName) === -1)\n                    || config.touchStartForcePreventDefault\n                touchStatus.startOffset = getTranslate($wrapper, this.isHorizontal)\n                this.transform(touchStatus.startOffset)\n                $wrapper.style.transition = 'none'\n\n                touchStatus.isTouchStart = true\n                touchStatus.touchStartTime = Date.now()\n\n                touchStatus.touchTracks.push({\n                    x: supportTouch ? e.touches[0].pageX : e.pageX,\n                    y: supportTouch ? e.touches[0].pageY : e.pageY\n                })\n\n                if (shouldPreventDefault && !config.passiveListeners) e.preventDefault()\n            },\n\n            handleTouchMove: e => {\n                const {\n                    touchStatus\n                } = this\n                const {\n                    touchTracks\n                } = touchStatus\n\n                if (!touchStatus.isTouchStart || touchStatus.isScrolling) return\n                if (config.touchMoveStopPropagation) e.stopPropagation()\n\n                const currentPosition = {\n                    x: supportTouch ? e.touches[0].pageX : e.pageX,\n                    y: supportTouch ? e.touches[0].pageY : e.pageY\n                }\n                const diff = {\n                    x: currentPosition.x - touchTracks[touchTracks.length - 1].x,\n                    y: currentPosition.y - touchTracks[touchTracks.length - 1].y\n                }\n\n                touchTracks.push(currentPosition)\n\n                const touchAngle = Math.atan2(Math.abs(diff.y), Math.abs(diff.x)) * 180 / Math.PI\n\n                let offset = 0\n\n                if (this.isHorizontal) {\n                    if (touchAngle < config.touchAngle || touchStatus.isTouching) {\n                        touchStatus.isTouching = true\n                        offset = diff.x\n                        e.preventDefault()\n                    } else {\n                        touchStatus.isScrolling = true\n                    }\n                } else {\n                    if ((90 - touchAngle) < config.touchAngle || touchStatus.isTouching) {\n                        touchStatus.isTouching = true\n                        offset = diff.y\n                        e.preventDefault()\n                    } else {\n                        touchStatus.isScrolling = true\n                    }\n                }\n\n                this.scrollPixel(offset * config.touchRatio)\n            },\n\n            handleTouchEnd: () => {\n                if (!this.touchStatus.isTouchStart) return\n\n                const {\n                    index,\n                    boxSize,\n                    touchStatus\n                } = this\n                const swipTime = Date.now() - touchStatus.touchStartTime\n                const transform = getTranslate($wrapper, this.isHorizontal)\n                const computedOffset = transform - touchStatus.startOffset\n                const jump = Math.ceil(Math.abs(computedOffset) / boxSize)\n                const longSwipeIndex = Math.ceil(Math.abs(computedOffset) / boxSize - config.longSwipesRatio)\n\n                $wrapper.style.transition = `transform ease ${config.speed}ms`\n\n                // long swip\n                if (swipTime > this.config.longSwipesMs) {\n                    this.scroll(this.index + longSwipeIndex * (computedOffset > 0 ? -1 : 1), true)\n                } else {\n                    // short swip\n                    this.scroll(computedOffset > 0 ? index - jump : index + jump, true)\n                }\n                this.initTouchStatus()\n            },\n\n            handleWheel: e => {\n                const {\n                    index,\n                    wheelStatus\n                } = this\n                const { deltaY } = e\n\n                if ((Math.abs(deltaY) - Math.abs(wheelStatus.wheelDelta) > 0 || !wheelStatus.wheeling)\n                    && Math.abs(deltaY) >= config.mousewheel.sensitivity) {\n                    this.scroll(deltaY > 0 ? index - 1 : index + 1)\n                }\n                wheelStatus.wheelDelta = deltaY\n                clearTimeout(wheelStatus.wheelingTimer)\n                wheelStatus.wheeling = true\n                wheelStatus.wheelingTimer = setTimeout(() => {\n                    this.initWheelStatus()\n                }, 200)\n                e.preventDefault()\n                e.stopPropagation()\n            }\n        }\n    }\n\n    attachListener () {\n        const {\n            $el,\n            config,\n            supportTouch\n        } = this\n        const {\n            handleTouchStart,\n            handleTouchMove,\n            handleTouchEnd,\n            handleWheel\n        } = this.listeners\n\n        if (supportTouch) {\n            $el.addEventListener('touchstart', handleTouchStart, {\n                passive: config.passiveListeners,\n                capture: false\n            }, false)\n            $el.addEventListener('touchmove', handleTouchMove)\n            $el.addEventListener('touchend', handleTouchEnd)\n            $el.addEventListener('touchcancel', handleTouchEnd)\n        } else {\n            $el.addEventListener('mousedown', handleTouchStart)\n            document.addEventListener('mousemove', handleTouchMove)\n            document.addEventListener('mouseup', handleTouchEnd)\n        }\n\n        if (config.mousewheel) {\n            $el.addEventListener('wheel', handleWheel)\n        }\n    }\n\n    detachListener () {\n        const {\n            $el\n        } = this\n        const {\n            handleTouchStart,\n            handleTouchMove,\n            handleTouchEnd,\n            handleWheel\n        } = this.listeners\n\n        $el.removeEventListener('touchstart', handleTouchStart)\n        $el.removeEventListener('touchmove', handleTouchMove)\n        $el.removeEventListener('touchend', handleTouchEnd)\n        $el.removeEventListener('touchcancel', handleTouchEnd)\n        $el.removeEventListener('mousedown', handleTouchStart)\n        document.removeEventListener('mousemove', handleTouchMove)\n        document.removeEventListener('mouseup', handleTouchEnd)\n\n        $el.removeEventListener('wheel', handleWheel)\n    }\n\n    transform (offset) {\n        this.$wrapper.style.transform = this.isHorizontal ? `translate3d(${offset}px, 0, 0)` : `translate3d(0, ${offset}px, 0)`\n    }\n\n    scroll (index = 0, force = false) {\n        if (this.scrolling && !force) return\n\n        const {\n            config,\n            minIndex,\n            maxIndex,\n            maxTransform\n        } = this\n\n        index = index < minIndex ? minIndex : index > maxIndex ? maxIndex : index\n\n        this.emit('before-slide', this.index, this, index)\n\n        const offset = index * this.boxSize + this.baseTransform\n\n        this.scrolling = true\n        this.transform(-(offset > maxTransform ? maxTransform : offset))\n\n        const $current = this.$list[index]\n        const $prev = this.$list[index - 1]\n        const $next = this.$list[index + 1]\n\n        this.$list.forEach(($slide, i) => {\n            removeClassName($slide, [\n                config.slidePrevClass,\n                config.slideNextClass,\n                config.slideActiveClass\n            ])\n            if (i === index) {\n                addClassName($current, config.slideActiveClass)\n            }\n            if (i === index - 1) {\n                addClassName($prev, config.slidePrevClass)\n            }\n            if (i === index + 1) {\n                addClassName($next, config.slideNextClass)\n            }\n        })\n        this.index = index\n        setTimeout(() => {\n            this.scrolling = false\n            this.emit('after-slide', index, this)\n        }, this.config.speed + this.config.intermittent)\n    }\n\n    scrollPixel (px) {\n        const ratio = px.toExponential().split('e')[1]\n        const expand = ratio <= 0 ? Math.pow(10, -(ratio - 1)) : 1\n        const oldTransform = getTranslate(this.$wrapper, this.isHorizontal)\n\n        if (this.config.resistance) {\n            if (px > 0 && oldTransform - this.minTransform >= 0) {\n                px -= (px * expand) ** this.config.resistanceRatio / expand\n            } else if (px < 0 && oldTransform + this.maxTransform <= 0) {\n                px += ((-px * expand) ** this.config.resistanceRatio) / expand\n            }\n            // if ((px > 0 && this.index === 0) || (px < 0 && this.index === this.maxIndex)) {\n            //     px = px * Math.pow(this.config.resistanceRatio, 4)\n            // }\n        }\n\n        this.transform(oldTransform + px)\n    }\n\n    initTouchStatus () {\n        this.touchStatus = {\n            touchTracks: [],\n            startOffset: 0,\n            touchStartTime: 0,\n            isTouchStart: false,\n            isScrolling: false,\n            isTouching: false\n        }\n    }\n\n    initWheelStatus () {\n        this.wheelStatus = {\n            wheeling: false,\n            wheelDelta: 0,\n            wheelingTimer: false\n        }\n    }\n\n    update () {\n        const {\n            $el,\n            $wrapper,\n            index,\n            config\n        } = this\n        const wrapperStyle = $wrapper.style\n        const isHorizontal = config.direction === 'horizontal'\n\n        $el.style.overflow = 'hidden'\n\n        this.isHorizontal = isHorizontal\n        this.$list = [].slice.call($el.getElementsByClassName(config.slideClass))\n        this.minIndex = 0\n        this.maxIndex = this.$list.length - 1\n        this.viewSize = isHorizontal ? $el.offsetWidth : $el.offsetHeight\n        this.slideSize = (this.viewSize - (Math.floor(config.slidesPerView)) * config.spaceBetween) / config.slidesPerView\n        this.boxSize = this.slideSize + config.spaceBetween\n        this.baseTransform = config.centeredSlides ? (this.slideSize - this.viewSize) / 2 : 0\n        this.minTransform = -this.baseTransform\n        this.maxTransform = this.boxSize * this.$list.length - config.spaceBetween - this.viewSize - this.baseTransform\n        this.$list.forEach(item => {\n            item.style[isHorizontal ? 'width' : 'height'] = `${this.slideSize}px`\n            item.style[isHorizontal ? 'margin-right' : 'margin-bottom'] = `${config.spaceBetween}px`\n        })\n\n        wrapperStyle.willChange = 'transform'\n        wrapperStyle.transition = `transform ease ${config.speed}ms`\n        wrapperStyle[isHorizontal ? 'width' : 'height'] = `${this.boxSize * this.$list.length}px`\n        wrapperStyle.display = 'flex'\n        wrapperStyle.flexDirection = isHorizontal ? 'row' : 'column'\n        this.transform(-index * this.boxSize)\n    }\n\n    destroy () {\n        const {\n            $el,\n            $wrapper,\n            config\n        } = this\n        const {\n            slideActiveClass\n        } = config\n\n        this.emit('before-destroy', this)\n        this.$list.forEach(item => {\n            item.removeAttribute('style')\n            removeClassName(item, [slideActiveClass])\n        })\n        $wrapper.removeAttribute('style')\n        $el.removeAttribute('style')\n        this.detachListener()\n        this.emit('after-destroy', this)\n        this.$el = null\n        this.$list = []\n        this.$wrapper = null\n        this.eventHub = {}\n        this.config = Swiper.formatConfig()\n    }\n}\n","import {\n    addClassName,\n    removeClassName\n} from '../lib.js'\n\n/**\n * TinySwiper plugin for image lazy loading.\n *\n * @param {*} tinyswiper\n */\nexport default function SwiperPluginLazyload (instance) {\n    const { config } = instance\n\n    if (!config.lazyload) return\n\n    instance.lazyload = {\n        load (index) {\n            const $slide = instance.$list[index]\n\n            if (!$slide) return\n\n            const $imgs = [].slice.call($slide.getElementsByClassName(config.lazyload.elementClass))\n            const $preloaders = [].slice.call($slide.getElementsByClassName(config.lazyload.preloaderClass))\n\n            function handleLoaded ($img) {\n                $img.removeAttribute('data-src')\n                addClassName($img, [config.lazyload.loadedClass])\n                removeClassName($img, [config.lazyload.loadingClass])\n                $img.onloaded = null\n                $img.onerror = null\n                $img.isLoaded = true\n\n                if ($imgs.every(item => item.isLoaded)) {\n                    $preloaders.forEach($preloader => {\n                        $preloader.parentElement.removeChild($preloader)\n                    })\n                }\n            }\n\n            $imgs.forEach($img => {\n                if (!$img.hasAttribute('data-src')) return\n\n                const src = $img.getAttribute('data-src')\n\n                addClassName($img, [config.lazyload.loadingClass])\n                removeClassName($img, [config.lazyload.loadedClass])\n                $img.src = src\n                $img.onload = () => handleLoaded($img)\n                $img.onerror = () => handleLoaded($img)\n            })\n        },\n\n        loadRange (index, range) {\n            instance.lazyload.load(index)\n\n            if (config.lazyload.loadPrevNext && range >= 1) {\n                for (let i = 1; i <= range; i++) {\n                    instance.lazyload.load(index + i)\n                    instance.lazyload.load(index - i)\n                }\n            }\n        }\n    }\n\n    instance.on('before-init', () => {\n        config.lazyload = {\n            loadPrevNext: false,\n            loadPrevNextAmount: 1,\n            loadOnTransitionStart: false,\n            elementClass: 'swiper-lazy',\n            loadingClass: 'swiper-lazy-loading',\n            loadedClass: 'swiper-lazy-loaded',\n            preloaderClass: 'swiper-lazy-preloader',\n            ...config.lazyload\n        }\n    })\n\n    if (config.lazyload.loadOnTransitionStart) {\n        instance.on('before-slide', function (oldIndex, tinyswiper, newIndex) {\n            tinyswiper.lazyload.loadRange(newIndex, config.lazyload.loadPrevNextAmount)\n        })\n    } else {\n        instance.on('after-slide', function (index, tinyswiper) {\n            tinyswiper.lazyload.loadRange(index, config.lazyload.loadPrevNextAmount)\n        })\n    }\n\n    instance.on('after-destroy', tinyswiper => {\n        if (!tinyswiper.config.lazyload) return\n\n        delete tinyswiper.lazyload\n    })\n}\n","import {\n    addClassName,\n    removeClassName\n} from '../lib.js'\n\nexport default function SwiperPluginPagination (instance) {\n    instance.on('before-init', tinyswiper => {\n        const { config } = tinyswiper\n\n        if (config.pagination) {\n            config.pagination = {\n                clickable: false,\n                bulletClass: 'swiper-pagination-bullet',\n                bulletActiveClass: 'swiper-pagination-bullet-active',\n                ...config.pagination\n            }\n        }\n    })\n\n    instance.on('after-init', tinyswiper => {\n        const { config } = tinyswiper\n\n        if (!config.pagination) return\n\n        const {\n            bulletClass,\n            bulletActiveClass\n        } = config.pagination\n\n        const $pagination = typeof config.pagination.el === 'string'\n            ? document.body.querySelector(config.pagination.el)\n            : config.pagination.el\n        const $pageList = []\n        const $group = document.createDocumentFragment()\n\n        config.excludeElements.push($pagination)\n        tinyswiper.$pagination = $pagination\n        tinyswiper.$pageList = $pageList\n\n        tinyswiper.$list.forEach((item, index) => {\n            const $page = document.createElement('div')\n\n            addClassName(\n                $page,\n                index === tinyswiper.index ? [bulletClass, bulletActiveClass] : bulletClass\n            )\n            $pageList.push($page)\n            $group.appendChild($page)\n        })\n\n        $pagination.appendChild($group)\n\n        if (config.pagination.clickable) {\n            $pagination.addEventListener('click', e => {\n                tinyswiper.scroll($pageList.indexOf(e.target))\n                e.stopPropagation()\n            })\n        }\n    })\n\n    instance.on('after-destroy', tinyswiper => {\n        const { config } = tinyswiper\n\n        if (!config.pagination) return\n        tinyswiper.$pagination.innerHTML = ''\n        tinyswiper.$pageList = []\n        tinyswiper.$pagination = null\n    })\n\n    instance.on('after-slide', (currentIndex, tinyswiper) => {\n        const { bulletActiveClass } = tinyswiper.config.pagination\n\n        tinyswiper.$pageList && tinyswiper.$pageList.forEach(($page, index) => {\n            if (index === currentIndex) {\n                addClassName($page, bulletActiveClass)\n            } else {\n                removeClassName($page, bulletActiveClass)\n            }\n        })\n    })\n}\n"],"names":["addClassName","el","list","Array","isArray","forEach","clz","classList","contains","add","removeClassName","remove","detectTouch","Boolean","window","navigator","maxTouchPoints","msMaxTouchPoints","DocumentTouch","document","getTranslate","isHorizontal","matrix","getComputedStyle","transform","replace","split","map","parseFloat","arr","length","slice","formEls","Swiper","config","formatConfig","body","querySelector","index","scrolling","supportTouch","$el","$wrapper","wrapperClass","eventHub","initPlugins","plugins","emit","initListener","initTouchStatus","initWheelStatus","update","attachListener","scroll","initialSlide","use","defaultConfig","direction","touchRatio","touchAngle","longSwipesRatio","loop","mousewheel","pagination","passiveListeners","resistance","resistanceRatio","speed","longSwipesMs","intermittent","spaceBetween","slidesPerView","centeredSlides","slidePrevClass","slideNextClass","slideActiveClass","slideClass","touchStartPreventDefault","touchStartForcePreventDefault","touchMoveStopPropagation","excludeElements","invert","sensitivity","plugin","on","evtName","cb","push","off","indexOf","splice","data","listeners","handleTouchStart","e","i","target","touchStatus","shouldPreventDefault","nodeName","startOffset","style","transition","isTouchStart","touchStartTime","Date","now","touchTracks","x","touches","pageX","y","pageY","preventDefault","handleTouchMove","isScrolling","stopPropagation","currentPosition","diff","Math","atan2","abs","PI","offset","isTouching","scrollPixel","handleTouchEnd","boxSize","swipTime","computedOffset","jump","ceil","longSwipeIndex","handleWheel","wheelStatus","deltaY","wheelDelta","wheeling","clearTimeout","wheelingTimer","setTimeout","addEventListener","passive","capture","detachListener","removeEventListener","force","minIndex","maxIndex","maxTransform","baseTransform","$current","$list","$prev","$next","$slide","px","ratio","toExponential","expand","pow","oldTransform","minTransform","wrapperStyle","overflow","call","getElementsByClassName","viewSize","offsetWidth","offsetHeight","slideSize","floor","item","willChange","display","flexDirection","destroy","removeAttribute","SwiperPluginLazyload","instance","lazyload","load","$imgs","elementClass","$preloaders","preloaderClass","handleLoaded","$img","loadedClass","loadingClass","onloaded","onerror","isLoaded","every","$preloader","parentElement","removeChild","hasAttribute","src","getAttribute","onload","loadRange","range","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","oldIndex","tinyswiper","newIndex","SwiperPluginPagination","clickable","bulletClass","bulletActiveClass","$pagination","$pageList","$group","createDocumentFragment","$page","createElement","appendChild","innerHTML","currentIndex"],"mappings":"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"}