{"version":3,"file":"navigation.js","sources":["../../src/core/render/dom.ts","../../src/modules/navigation.ts"],"sourcesContent":["export function addClass (\r\n    el: HTMLElement,\r\n    list: Array<string> | string = []\r\n): void {\r\n    if (!Array.isArray(list)) list = [list]\r\n\r\n    list.forEach(clz => (!el.classList.contains(clz) && el.classList.add(clz)))\r\n}\r\n\r\nexport function removeClass (\r\n    el: HTMLElement,\r\n    list: Array<string> | string = []\r\n): void {\r\n    if (!Array.isArray(list)) list = [list]\r\n\r\n    list.forEach(clz => (el.classList.contains(clz) && el.classList.remove(clz)))\r\n}\r\n\r\nexport function attachListener (\r\n    el: HTMLElement | Document | Window,\r\n    evtName: string,\r\n    handler: EventListenerOrEventListenerObject,\r\n    opts?: boolean | AddEventListenerOptions\r\n): void {\r\n    el.addEventListener(evtName, handler, opts)\r\n}\r\n\r\nexport function detachListener (\r\n    el: HTMLElement | Document | Window,\r\n    evtName: string,\r\n    handler: EventListenerOrEventListenerObject\r\n): void {\r\n    el.removeEventListener(evtName, handler)\r\n}\r\n\r\nexport function removeAttr (\r\n    el: HTMLElement,\r\n    attr: string\r\n): void {\r\n    el.removeAttribute(attr)\r\n}\r\n\r\nexport function setAttr (\r\n    el: HTMLElement,\r\n    attr: string,\r\n    value = ''\r\n): HTMLElement {\r\n    el.setAttribute(attr, value)\r\n    return el\r\n}\r\n\r\nexport function setStyle (\r\n    el: HTMLElement,\r\n    style: {[key: string]: string},\r\n    forceRender?: boolean\r\n): HTMLElement {\r\n    Object.keys(style).forEach(prop => {\r\n        // TS7015: Element implicitly has an 'any' type because index expression is not of type 'number'.\r\n        el.style[prop as any] = style[prop]\r\n    })\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\r\n    forceRender && getComputedStyle(el)\r\n\r\n    return el\r\n}\r\n\r\nexport function getTranslate (\r\n    el: HTMLElement,\r\n    isHorizontal: boolean\r\n): number {\r\n    const matrix = getComputedStyle(el).transform.replace(/[a-z]|\\(|\\)|\\s/g, '').split(',').map(parseFloat)\r\n    let arr: Array<number> = []\r\n\r\n    if (matrix.length === 16) {\r\n        arr = matrix.slice(12, 14)\r\n    } else if (matrix.length === 6) {\r\n        arr = matrix.slice(4, 6)\r\n    }\r\n    return (<Array<number>>arr)[isHorizontal ? 0 : 1] || 0\r\n}\r\n","import {\n    attachListener,\n    detachListener\n} from '../core/render/dom'\nimport { SwiperInstance } from '../core/index'\nimport { Options } from '../core/options'\n\n\nexport type SwiperPluginNavigationOptions = Options & {\n    navigation: {\n        nextEl: HTMLElement | string\n        prevEl: HTMLElement | string\n        disabledClass: string\n    }\n}\n\nexport type SwiperPluginNavigationInstance = {\n    nextEl: HTMLElement\n    prevEl: HTMLElement\n}\nexport default function SwiperPluginNavigation(\n    instance: SwiperInstance & {\n        navigation: SwiperPluginNavigationInstance\n    },\n    options: SwiperPluginNavigationOptions\n) {\n    const navigation = {\n        nextEl: null,\n        prevEl: null\n    } as unknown as SwiperPluginNavigationInstance\n\n    const nextClickHandler = (e: PointerEvent) => {\n        clickHandler(e.target as HTMLElement, 'next')\n    }\n\n    const prevClickHandler = (e: PointerEvent) => {\n        clickHandler(e.target as HTMLElement, 'prev')\n\n    }\n\n    const clickHandler = (e: HTMLElement, type: 'next' | 'prev') => {\n        if ( checkIsDisable(e) && !instance.options.loop ) {\n            return\n        }\n        const {\n            index\n        } = instance.state\n\n        if ( type === 'next' ) {\n            instance.slideTo(index + 1)\n        }\n\n        if ( type === 'prev' ) {\n            instance.slideTo(index - 1)\n        }\n    }\n\n    const checkSwiperDisabledClass = (\n        index: number) => {\n        const {\n            minIndex,\n            maxIndex\n        } = instance.env.limitation\n        if ( index === minIndex ) {\n            navigation.prevEl.classList.add(options.navigation.disabledClass)\n        }\n        if ( index === maxIndex ) {\n            navigation.nextEl.classList.add(options.navigation.disabledClass)\n        }\n    }\n\n    const checkNavBtnDisabledClass = (index: number) => {\n        const {\n            minIndex,\n            maxIndex\n        } = instance.env.limitation\n        if ( navigation && navigation.nextEl ) {\n            if ( navigation.nextEl.classList.contains(options.navigation.disabledClass)\n                && index > minIndex ) {\n                navigation.nextEl.classList.remove(options.navigation.disabledClass)\n            }\n            if ( navigation.prevEl.classList.contains(options.navigation.disabledClass)\n                && index < maxIndex ) {\n                navigation.prevEl.classList.remove(options.navigation.disabledClass)\n            }\n        }\n    }\n\n    const checkIsDisable = (e: HTMLElement) => {\n        if ( e.classList.contains(options.navigation.disabledClass) ) {\n            return true\n        }\n        return false\n    }\n\n    const checkButtonDefaultStatus = () => {\n        const {\n            index\n        } = instance.state\n        const {\n            $list\n        } = instance.env.element\n        const {\n            minIndex\n        } = instance.env.limitation\n        if ( index === minIndex) {\n            navigation.prevEl.classList.add(options.navigation.disabledClass)\n        }\n        if ( $list.length === minIndex ) {\n            navigation.nextEl.classList.add(options.navigation.disabledClass)\n        }\n    }\n\n    instance.on('after-slide', (currentIndex: number) => {\n        if ( !instance.options.loop ) {\n            checkSwiperDisabledClass(currentIndex)\n        }\n\n    })\n\n    instance.on('before-slide', (currentIndex: number, state: any, newIndex: number) => {\n        if ( !instance.options.loop ) {\n            checkNavBtnDisabledClass(newIndex)\n        }\n    })\n\n    instance.on('before-init', () => {\n        if ( options.navigation ) {\n            options.navigation = Object.assign({\n                disabledClass: 'swiper-button-disabled'\n            }, options.navigation)\n        }\n    })\n\n    instance.on('after-init', () => {\n        if ( !options.navigation ) return\n\n        navigation.nextEl = (typeof options.navigation.nextEl === 'string')\n            ? document.body.querySelector(options.navigation.nextEl) as HTMLElement\n            : options.navigation.nextEl\n        navigation.prevEl = (typeof options.navigation.prevEl === 'string')\n            ? document.body.querySelector(options.navigation.prevEl) as HTMLElement\n            : options.navigation.prevEl\n        if ( !instance.options.loop ) {\n            checkButtonDefaultStatus()\n        }\n        attachListener(navigation.nextEl, 'click', <EventListener>nextClickHandler)\n        attachListener(navigation.prevEl, 'click', <EventListener>prevClickHandler)\n    })\n\n    instance.on('after-destroy', () => {\n        if ( !options.navigation ) return\n\n        delete navigation.nextEl\n        delete navigation.prevEl\n\n        detachListener(navigation.nextEl, 'click', <EventListener>nextClickHandler)\n        detachListener(navigation.prevEl, 'click', <EventListener>prevClickHandler)\n    })\n}\n"],"names":["attachListener","el","evtName","handler","opts","addEventListener","detachListener","removeEventListener","SwiperPluginNavigation","instance","options","navigation","nextEl","prevEl","nextClickHandler","e","clickHandler","target","prevClickHandler","type","checkIsDisable","loop","index","state","slideTo","checkSwiperDisabledClass","env","limitation","minIndex","maxIndex","classList","add","disabledClass","checkNavBtnDisabledClass","contains","remove","checkButtonDefaultStatus","$list","element","length","on","currentIndex","newIndex","Object","assign","document","body","querySelector"],"mappings":"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"}