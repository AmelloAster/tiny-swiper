!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):(e=e||self).SwiperPluginLazyload=a()}(this,function(){"use strict";function a(){return(a=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n,o=arguments[a];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function r(a,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return!a.classList.contains(e)&&a.classList.add(e)})}function s(a,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return a.classList.contains(e)&&a.classList.remove(e)})}return function(t,e){var l,o;e.lazyload&&(l=e.lazyload,o={load:function(e){var a,n,e=t.env.element.$list[e];function o(e){e.removeAttribute("data-src"),r(e,[l.loadedClass]),s(e,[l.loadingClass]),e.onload=null,e.onerror=null,e.isLoaded=!0,a.every(function(e){return e.isLoaded})&&n.forEach(function(e){e.parentElement.removeChild(e)})}e&&(a=[].slice.call(e.getElementsByClassName(l.elementClass)),n=[].slice.call(e.getElementsByClassName(l.preloaderClass)),a.forEach(function(e){var a;e.hasAttribute("data-src")&&(a=e.getAttribute("data-src"),r(e,[l.loadingClass]),s(e,[l.loadedClass]),e.src=a,e.onload=function(){return o(e)},e.onerror=function(){return o(e)})}))},loadRange:function(e,a){if(o.load(e),l.loadPrevNext&&1<=a)for(var n=1;n<=a;n++)o.load(e+n),o.load(e-n)}},t.on("before-init",function(){e.lazyload=a({loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"},e.lazyload)}),l.loadOnTransitionStart?t.on("before-slide",function(e,a,n){o.loadRange(n,l.loadPrevNextAmount)}):t.on("after-slide",function(e,a){o.loadRange(e,l.loadPrevNextAmount)}),t.on("after-destroy",function(){t.lazyload&&delete t.lazyload}))}});
