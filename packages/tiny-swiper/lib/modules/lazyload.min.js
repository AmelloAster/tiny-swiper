!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):(e="undefined"!=typeof globalThis?globalThis:e||self).SwiperPluginLazyload=a()}(this,function(){"use strict";function a(){return(a=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var o,n=arguments[a];for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function r(a,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return!a.classList.contains(e)&&a.classList.add(e)})}function s(a,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return a.classList.contains(e)&&a.classList.remove(e)})}return function(t,e){var l,n;e.lazyload&&(l=e.lazyload,n={load:function(e){var a,o,e=t.env.element.$list[e];function n(e){e.removeAttribute("data-src"),r(e,[l.loadedClass]),s(e,[l.loadingClass]),e.onload=null,e.onerror=null,e.isLoaded=!0,a.every(function(e){return e.isLoaded})&&o.forEach(function(e){e.parentElement.removeChild(e)})}e&&(a=[].slice.call(e.getElementsByClassName(l.elementClass)),o=[].slice.call(e.getElementsByClassName(l.preloaderClass)),a.forEach(function(e){var a;e.hasAttribute("data-src")&&(a=e.getAttribute("data-src"),r(e,[l.loadingClass]),s(e,[l.loadedClass]),e.src=a,e.onload=function(){return n(e)},e.onerror=function(){return n(e)})}))},loadRange:function(e,a){if(n.load(e),l.loadPrevNext&&1<=a)for(var o=1;o<=a;o++)n.load(e+o),n.load(e-o)}},t.on("before-init",function(){e.lazyload=a({loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"},e.lazyload)}),l.loadOnTransitionStart?t.on("before-slide",function(e,a,o){n.loadRange(o,l.loadPrevNextAmount)}):t.on("after-slide",function(e){n.loadRange(e,l.loadPrevNextAmount)}),t.on("after-destroy",function(){t.lazyload&&delete t.lazyload}))}});
