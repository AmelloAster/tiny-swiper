!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).SwiperPluginKeyboardControl=n()}(this,function(){"use strict";function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t,o=arguments[n];for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e}).apply(this,arguments)}var t="ArrowUp",o="ArrowRight",l="ArrowDown",f="ArrowLeft";function s(e){var n=function e(n){if(!n)return!1;var t=getComputedStyle(n);return"hidden"!==t.visibility&&"none"!==t.display&&(!n.parentElement||1!==n.parentElement.nodeType||e(n.parentElement))}(e),e=e.getBoundingClientRect();return 0<=e.top&&e.bottom<=window.innerHeight&&0<=e.left&&e.right<=window.innerWidth&&n}return function(i,r){var n,d;r.keyboard&&(n=r.keyboard,d={enable:function(){n.enabled=!0},disable:function(){n.enabled=!1},onKeyDown:function(e){e=e.key;n.onlyInViewport&&!s(i.env.element.$el)||!n.enabled||(r.isHorizontal?e===f?i.slideTo(i.state.index-1):e===o&&i.slideTo(i.state.index+1):e===l?i.slideTo(i.state.index-1):e===t&&i.slideTo(i.state.index+1))}},i.on("before-init",function(){var e,n,t,o;r.keyboard=a({enabled:!0,onlyInViewport:!0},r.keyboard),i.keyboard=d,e=window,n="keydown",t=d.onKeyDown,e.addEventListener(n,t,o)}),i.on("after-destroy",function(){var e,n,t;e=window,n="keydown",t=d.onKeyDown,e.removeEventListener(n,t),delete i.keyboard}))}});
