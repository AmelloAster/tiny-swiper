{"version":3,"file":"index.js","sources":["../src/core/options.ts","../src/core/eventHub.ts","../src/core/state/trace.ts","../src/core/state/index.ts","../src/core/element.ts","../src/core/render/dom.ts","../src/core/sensor.ts","../src/core/env.ts","../src/core/shared.ts","../src/core/state/limitation.ts","../src/core/measure.ts","../src/core/render/index.ts","../src/core/state/operations.ts","../src/core/index.ts"],"sourcesContent":["import { SwiperPlugin } from './index'\n\nexport type Direction = 'horizontal' | 'vertical'\n\nexport type Options = {\n    direction: Direction\n    touchRatio: number\n    touchAngle: number\n    longSwipesRatio: number\n    initialSlide: number\n    loop: boolean\n    freeMode: boolean\n    mousewheel: boolean\n    pagination: boolean\n    passiveListeners: boolean\n    resistance: boolean\n    resistanceRatio: number\n    speed: number\n    longSwipesMs: number\n    intermittent: number\n    spaceBetween: number\n    slidesPerView: number\n    centeredSlides: boolean\n    slidePrevClass: string\n    slideNextClass: string\n    slideActiveClass: string\n    slideClass: string\n    wrapperClass: string\n    touchStartPreventDefault: boolean\n    touchStartForcePreventDefault: boolean\n    touchMoveStopPropagation: boolean\n    excludeElements: Array<HTMLElement | string>\n    isHorizontal: boolean\n    plugins?: Array<SwiperPlugin>\n}\n\nexport type UserOptions = Partial<Options>\n\nconst defaultOptions: UserOptions = {\n    // `isHorizontal` is computed value\n    direction: 'horizontal',\n    touchRatio: 1,\n    touchAngle: 45,\n    longSwipesRatio: 0.5,\n    initialSlide: 0,\n    loop: false,\n    freeMode: false,\n    mousewheel: false,\n    pagination: false,\n    passiveListeners: true,\n    resistance: true,\n    resistanceRatio: 0.85,\n    speed: 300,\n    longSwipesMs: 300,\n    intermittent: 0,\n    spaceBetween: 0,\n    slidesPerView: 1,\n    centeredSlides: false,\n    slidePrevClass: 'swiper-slide-prev',\n    slideNextClass: 'swiper-slide-next',\n    slideActiveClass: 'swiper-slide-active',\n    slideClass: 'swiper-slide',\n    wrapperClass: 'swiper-wrapper',\n    touchStartPreventDefault: true,\n    touchStartForcePreventDefault: false,\n    touchMoveStopPropagation: false,\n    excludeElements: []\n}\n\nexport function optionFormatter (userOptions: UserOptions): Options {\n    const options = <Options>{\n        ...defaultOptions,\n        ...userOptions\n    }\n\n    return {\n        ...options,\n        isHorizontal: options.direction === 'horizontal'\n    }\n}\n","\nexport type EventHub = {\n    on (evtName: string, cb: Function): void\n    off (evtName: string, cb: Function): void\n    emit (evtName: string, ...data: Array<any>): void\n    clear (): void\n}\n\nexport function EventHub (): EventHub {\n    let hub: {\n        [key: string]: Array<Function>\n    } = {}\n\n    function on (evtName: string, cb: Function): void {\n        if (!hub[evtName]) {\n            hub[evtName] = [cb]\n        } else {\n            hub[evtName].push(cb)\n        }\n    }\n\n    function off (evtName: string, cb: Function): void {\n        if (hub[evtName]) {\n            const index = hub[evtName].indexOf(cb)\n\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            index > -1 && hub[evtName].splice(index, 1)\n        }\n    }\n\n    function emit (evtName: string, ...data: Array<any>): void {\n        if (hub[evtName]) {\n            hub[evtName].forEach(cb => cb(...data))\n        }\n    }\n\n    function clear (): void {\n        hub = {}\n    }\n\n    return {\n        on,\n        off,\n        emit,\n        clear\n    }\n}\n","const delta = 180 / Math.PI\n\nexport type TraceLogs = Array<Trace>\n\nexport type Offset = {\n    /**\n     * offset x\n     */\n    x: number\n\n    /**\n     * offset y\n     */\n    y: number\n}\n\nexport type Position = {\n    /**\n     * postion in the x-axis\n     */\n    x: number\n\n    /**\n     * postion in the y-axis\n     */\n    y: number\n}\n\nexport type Trace = {\n    /**\n     * timestamp of current postion\n     */\n    time: number\n} & Position\n\nexport type Tracker = {\n    push (postion: Position): void\n    vector (): Vector\n    clear (): void\n    getLogs (): TraceLogs\n    getDuration (): number\n    getOffset (): Offset\n}\n\nexport type Vector = {\n    /**\n     * offset in the x-axis\n     */\n    x: number\n\n    /**\n     * offset in the y-axis\n     */\n    y: number\n\n    /**\n     * velocity in the x-axis\n     */\n    velocityX: number\n\n    /**\n     * velocity in the y-axis\n     */\n    velocityY: number\n\n    /**\n     * direction angle\n     */\n    angle: number\n}\n\nexport function Vector (\n    logs: TraceLogs,\n    index: number\n): Vector {\n    const trace = logs[index]\n    const formerTrace = logs[index - 1]\n    const diff = {\n        x: trace.x - formerTrace.x,\n        y: trace.y - formerTrace.y\n    }\n    const duration = trace.time - formerTrace.time\n    const velocityX = diff.x / duration\n    const velocityY = diff.y / duration\n    const angle = Math.atan2(Math.abs(diff.y), Math.abs(diff.x)) * delta\n\n    return {\n        ...diff,\n        angle,\n        velocityX,\n        velocityY\n    }\n}\n\n\nexport function Tracker (): Tracker {\n    let logs: TraceLogs = []\n\n    function push (position: Position): void {\n        logs.push({\n            ...position,\n            time: Date.now()\n        })\n    }\n\n    function vector (): Vector {\n        return Vector(logs, logs.length - 1)\n    }\n\n    function clear () {\n        logs = []\n    }\n\n    function getLogs () {\n        return logs\n    }\n\n    function getDuration (): number {\n        const first = logs[0]\n        const last = logs[logs.length - 1]\n\n        return first ? last.time - first.time : 0\n    }\n\n    function getOffset (): Offset {\n        const first = logs[0]\n        const last = logs[logs.length - 1]\n\n        return first ? {\n            x: last.x - first.x,\n            y: last.y - first.y\n        } : {\n            x: 0,\n            y: 0\n        }\n    }\n\n    return {\n        getDuration,\n        getOffset,\n        getLogs,\n        vector,\n        clear,\n        push\n    }\n}\n","import { Tracker } from './trace'\n\nexport interface State {\n    tracker: Tracker\n    index: number\n    startTransform: number\n    isStart: boolean\n    isScrolling: boolean\n    isTouching: boolean\n    transforms: number\n}\n\nexport function State (): State {\n    const state: State = {\n        tracker: Tracker(),\n        index: 0,\n        startTransform: 0,\n        isStart: false,\n        isScrolling: false,\n        isTouching: false,\n        transforms: 0\n    }\n\n    return state\n}\n","import { Options } from './options'\n\nexport type Element = {\n    $el: HTMLElement\n    $list: Array<HTMLElement>\n    $wrapper: HTMLElement\n}\n\nexport function Element (\n    el: HTMLElement | string,\n    options: Options\n): Element {\n    const $el = <HTMLElement>(typeof el === 'string' ? document.body.querySelector(el) : el)\n    const $wrapper = <HTMLElement>$el!.querySelector(`.${options.wrapperClass}`)\n    const $list = [].slice.call($el!.getElementsByClassName(options.slideClass))\n\n    return {\n        $el,\n        $wrapper,\n        $list\n    }\n}\n","export function addClass (\n    el: HTMLElement,\n    list: Array<string> | string = []\n): void {\n    if (!Array.isArray(list)) list = [list]\n\n    list.forEach(clz => (!el.classList.contains(clz) && el.classList.add(clz)))\n}\n\nexport function removeClass (\n    el: HTMLElement,\n    list: Array<string> | string = []\n): void {\n    if (!Array.isArray(list)) list = [list]\n\n    list.forEach(clz => (el.classList.contains(clz) && el.classList.remove(clz)))\n}\n\nexport function attachListener (\n    el: HTMLElement | Document,\n    evtName: string,\n    handler: EventListenerOrEventListenerObject,\n    opts?: boolean | AddEventListenerOptions\n): void {\n    el.addEventListener(evtName, handler, opts)\n}\n\nexport function detachListener (\n    el: HTMLElement | Document,\n    evtName: string,\n    handler: EventListenerOrEventListenerObject\n): void {\n    el.removeEventListener(evtName, handler)\n}\n\nexport function removeAttr (\n    el: HTMLElement,\n    attr: string\n): void {\n    el.removeAttribute(attr)\n}\n\nexport function setAttr (\n    el: HTMLElement,\n    attr: string,\n    value: string\n): void {\n    el.setAttribute(attr, value)\n}\n\nexport function updateStyle (\n    el: HTMLElement,\n    style: {[key: string]: string},\n    forceRender?: boolean\n): void {\n    Object.keys(style).forEach(prop => {\n        // TS7015: Element implicitly has an 'any' type because index expression is not of type 'number'.\n        el.style[prop as any] = style[prop]\n    })\n    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n    forceRender && getComputedStyle(el)\n}\n\nexport function getTranslate (\n    el: HTMLElement,\n    isHorizontal: boolean\n): number {\n    const matrix = getComputedStyle(el).transform.replace(/[a-z]|\\(|\\)|\\s/g, '').split(',').map(parseFloat)\n    let arr: Array<number> = []\n\n    if (matrix.length === 16) {\n        arr = matrix.slice(12, 14)\n    } else if (matrix.length === 6) {\n        arr = matrix.slice(4, 6)\n    }\n    return (<Array<number>>arr)[isHorizontal ? 0 : 1] || 0\n}\n","import { State } from './state/index'\nimport { Env } from './env'\nimport { attachListener, detachListener, getTranslate } from './render/dom'\nimport { Element } from './element'\nimport { Options } from './options'\nimport { Position } from './state/trace'\nimport { EventHub } from './eventHub'\nimport { Operations } from './state/operations'\n\nexport type Sensor = {\n    attach: () => void\n    detach: () => void\n    update: (ele: Element) => void\n}\n\n// Only support single finger touch event.\nexport function Sensor (\n    element: Element,\n    env: Env,\n    state: State,\n    options: Options,\n    operations: Operations\n): Sensor {\n    const formEls = [\n        'INPUT',\n        'SELECT',\n        'OPTION',\n        'TEXTAREA',\n        'BUTTON',\n        'VIDEO'\n    ]\n    const {\n        preheat,\n        move,\n        stop\n    } = operations\n    const {\n        touchable\n    } = env\n\n    function update (ele: Element): void {\n        element = ele\n    }\n\n    function getPosition (e: Event): Position {\n        const touch = touchable ? (<TouchEvent>e).changedTouches[0] : <MouseEvent>e\n\n        return {\n            x: touch.pageX,\n            y: touch.pageY\n        }\n    }\n\n    function onTouchStart (e: Event): void {\n        const {\n            $wrapper\n        } = element\n        const shouldPreventDefault = (options.touchStartPreventDefault && formEls.indexOf((<HTMLElement>e.target).nodeName) === -1)\n            || options.touchStartForcePreventDefault\n\n        if (shouldPreventDefault && !options.passiveListeners) e.preventDefault()\n\n        preheat(\n            getPosition(e),\n            getTranslate($wrapper, options.isHorizontal)\n        )\n    }\n\n    function onTouchMove (e: Event): void {\n        if (options.touchMoveStopPropagation) e.stopPropagation()\n\n        move(getPosition(e))\n        state.isTouching && e.preventDefault()\n    }\n\n    function onTouchEnd (e: Event): void {\n        onTouchMove(e)\n        stop()\n    }\n\n    function attach (): void {\n        const {\n            $el\n        } = element\n\n        if (touchable) {\n            attachListener($el, 'touchstart', onTouchStart, {\n                passive: options.passiveListeners,\n                capture: false\n            })\n            attachListener($el, 'touchmove', onTouchMove)\n            attachListener($el, 'touchend', onTouchEnd)\n            attachListener($el, 'touchcancel', onTouchEnd)\n        } else {\n            attachListener($el, 'mousedown', onTouchStart)\n            attachListener(document, 'mousemove', onTouchMove)\n            attachListener(document, 'mouseup', onTouchEnd)\n        }\n    }\n\n    function detach (): void {\n        const {\n            $el\n        } = element\n\n        detachListener($el, 'touchstart', onTouchStart)\n        detachListener($el, 'touchmove', onTouchMove)\n        detachListener($el, 'touchend', onTouchEnd)\n        detachListener($el, 'touchcancel', onTouchEnd)\n        detachListener($el, 'mousedown', onTouchStart)\n        detachListener(document, 'mousemove', onTouchMove)\n        detachListener(document, 'mouseup', onTouchEnd)\n    }\n\n    return {\n        attach,\n        detach,\n        update\n    }\n}\n","import { Options } from './options'\n\ndeclare global {\n    interface Window {\n        DocumentTouch: any\n    }\n    const DocumentTouch: any\n}\n\ntype Params = {\n    options: Options\n    $el: HTMLElement\n}\n\nexport type Env = {\n    touchable: boolean\n}\n\nexport function Env (): Env {\n    return {\n        touchable: Boolean(\n            'ontouchstart' in window\n            || navigator.maxTouchPoints > 0\n            || navigator.msMaxTouchPoints > 0\n            || window.DocumentTouch && document instanceof DocumentTouch\n        )\n    }\n}\n","import { Element } from './element'\nimport { Options } from './options'\n\nexport function getExpand (\n    options: Options,\n    element: Element\n): number {\n    return options.slidesPerView >= element.$list.length\n        ? options.slidesPerView - element.$list.length + 1\n        : 1\n}\n","import { Options } from '../options'\nimport { Element } from '../element'\nimport { Measure } from '../measure'\nimport { getExpand } from '../shared'\n\nexport type Limitation = {\n    min: number\n    max: number\n    base: number\n    minIndex: number\n    maxIndex: number\n}\n\nexport function Limitation (\n    element: Element,\n    measure: Measure,\n    options: Options\n): Limitation {\n    const {\n        $list\n    } = element\n    const {\n        viewSize,\n        slideSize,\n        boxSize\n    } = measure\n    const expand = getExpand(options, element)\n    const base = -expand * boxSize + (options.centeredSlides\n        ? (slideSize - viewSize) / 2\n        : 0)\n    // [min, max] usually equal to [-x, 0]\n    const max = base\n    const min = options.spaceBetween + viewSize + base - boxSize * $list.length\n    const minIndex = 0\n    const maxIndex = $list.length - ((options.centeredSlides || options.loop)\n        ? 1\n        : Math.ceil(options.slidesPerView))\n\n    const limitation = {\n        max,\n        min,\n        base,\n        minIndex,\n        maxIndex\n    }\n\n    return limitation\n}\n","import { Options } from './options'\nimport { Element } from './element'\n\nexport type Measure = {\n    boxSize: number\n    viewSize: number\n    slideSize: number\n}\n\nexport function Measure (\n    options: Options,\n    element: Element\n): Measure {\n    const {\n        $el\n    } = element\n    const viewSize = options.isHorizontal ? $el.offsetWidth : $el.offsetHeight\n    const slideSize = (viewSize - (Math.ceil(options.slidesPerView - 1)) * options.spaceBetween) / options.slidesPerView\n    const boxSize = slideSize + options.spaceBetween\n\n    return {\n        boxSize,\n        viewSize,\n        slideSize\n    }\n}\n","import { Options } from '../options'\nimport { removeClass, addClass, updateStyle } from './dom'\nimport { Element } from '../element'\nimport { EventHub } from '../eventHub'\nimport { State } from '../state/index'\nimport { getExpand } from '../shared'\n\nexport type Renderer = {\n    init (): void\n    render (\n        instance: State,\n        duration?: number,\n        cb?: Function\n    ): void\n    update (ele: Element): void\n    destroy (): void\n}\n\nexport function Renderer (\n    element: Element,\n    options: Options,\n    eventHub: EventHub\n): Renderer {\n    function render (\n        instance: State,\n        duration?: number,\n        cb?: Function\n    ) {\n        const {\n            $list,\n            $wrapper\n        } = element\n        const {\n            index\n        } = instance\n        const wrapperStyle = {\n            transition: instance.isStart\n                ? 'none'\n                : `transform ease ${duration === undefined ? options.speed : duration}ms`,\n            transform: options.isHorizontal\n                ? `translate3d(${instance.transforms}px, 0, 0)`\n                : `translate3d(0, ${instance.transforms}px, 0)`\n        }\n        const $current = $list[index]\n        const $prev = $list[index - 1]\n        const $next = $list[index + 1]\n\n        updateStyle($wrapper, wrapperStyle)\n        if (!instance.isStart) {\n            $list.forEach(($slide, i) => {\n                removeClass($slide, [\n                    options.slidePrevClass,\n                    options.slideNextClass,\n                    options.slideActiveClass\n                ])\n                if (i === index) {\n                    addClass($current, options.slideActiveClass)\n                }\n                if (i === index - 1) {\n                    addClass($prev, options.slidePrevClass)\n                }\n                if (i === index + 1) {\n                    addClass($next, options.slideNextClass)\n                }\n            })\n        }\n    }\n\n    function init (): void {\n        const {\n            $list,\n            $wrapper\n        } = element\n        const wrapperStyle = {\n            display: 'flex',\n            willChange: 'transform',\n            flexDirection: options.isHorizontal ? 'row' : 'column'\n        }\n        const itemStyle = {\n            [options.isHorizontal ? 'margin-right' : 'margin-bottom']: `${options.spaceBetween}px`\n        }\n\n        updateStyle($wrapper, wrapperStyle)\n        $list.forEach($slide => updateStyle($slide, itemStyle))\n\n        if (options.loop) {\n            const expand = getExpand(options, element)\n            const leftExpandList = $list.slice(-expand)\n                .map($slide => $slide.cloneNode(true))\n            const rightExpandList = $list.slice(0, expand)\n                .map($slide => $slide.cloneNode(true))\n\n            leftExpandList.forEach(($shadowSlide, index) => {\n                $wrapper.appendChild(rightExpandList[index])\n                $wrapper.insertBefore(leftExpandList[index], $list[0])\n            })\n        }\n    }\n\n    function destroy () {\n        const {\n            $list,\n            $wrapper\n        } = element\n        const arr = ['display', 'will-change', 'flex-direction']\n        const itemProp = options.isHorizontal ? 'margin-right' : 'margin-bottom'\n\n        arr.forEach((propertyName: string) => {\n            $wrapper.style.removeProperty(propertyName)\n        })\n        $list.forEach($slide => $slide.style.removeProperty(itemProp))\n    }\n\n    function update (ele: Element): void {\n        element = ele\n        init()\n    }\n\n    return {\n        init,\n        render,\n        update,\n        destroy\n    }\n}\n","import { Position } from './trace'\nimport { State } from './index'\nimport { Limitation } from './limitation'\nimport { Measure } from '../measure'\nimport { EventHub } from '../eventHub'\nimport { Renderer } from '../render/index'\nimport { Options } from '../options'\n\nexport interface Operations {\n    update (\n        limit: Limitation,\n        mes: Measure\n    ): void\n    render (duration?: number): void\n    transform (trans: number): void\n    slideTo (\n        targetIndex: number,\n        duration?: number\n    ): void\n    scrollPixel (px: number): void\n    initStatus (startTransform: number): void\n    initLayout (originTransform: number): void\n    preheat (\n        originPosition: Position,\n        originTransform: number\n    ): void\n    move (position: Position): void\n    stop (): void\n}\n\nexport function Operations (\n    state: State,\n    options: Options,\n    measure: Measure,\n    limitation: Limitation,\n    renderer: Renderer,\n    eventHub: EventHub\n): Operations {\n    function update (\n        limit: Limitation,\n        mes: Measure\n    ): void {\n        limitation = limit\n        measure = mes\n    }\n\n    function render (duration?: number): void {\n        renderer.render(\n            state,\n            duration\n        )\n    }\n\n    function transform (trans: number): void {\n        state.transforms = trans\n    }\n\n    function slideTo (\n        targetIndex: number,\n        duration?: number\n    ): void {\n        let computedIndex\n\n        if (options.loop) {\n            computedIndex = targetIndex < limitation.minIndex\n                ? limitation.maxIndex - (limitation.minIndex - targetIndex) + 1\n                : targetIndex > limitation.maxIndex\n                    ? limitation.minIndex + (targetIndex - limitation.maxIndex) - 1\n                    : targetIndex\n            const offset = -targetIndex * measure.boxSize + limitation.base\n\n            console.log(computedIndex, targetIndex, offset)\n            transform(offset)\n            // TODO\n        } else {\n            computedIndex = targetIndex < limitation.minIndex\n                ? limitation.minIndex\n                : targetIndex > limitation.maxIndex\n                    ? limitation.maxIndex\n                    : targetIndex\n            const offset = -computedIndex * measure.boxSize + limitation.base\n\n            transform(offset > limitation.max\n                ? limitation.max\n                : offset < limitation.min\n                    ? limitation.min\n                    : offset)\n        }\n        state.index = computedIndex\n\n        eventHub.emit('before-slide',\n            targetIndex,\n            state)\n\n        render(duration)\n    }\n\n    function scrollPixel (px: number): void {\n        const {\n            transforms\n        } = state\n        const ratio = Number(px.toExponential().split('e')[1])\n        const expand = ratio <= 0 ? Math.pow(10, -(ratio - 1)) : 1\n        const oldTransform = transforms\n\n        // For optimizing, do not calculate `px` if options.loop === true\n        if (options.resistance && !options.loop) {\n            if (px > 0 && oldTransform >= limitation.max) {\n                px -= (px * expand) ** options.resistanceRatio / expand\n            } else if (px < 0 && oldTransform <= limitation.min) {\n                px += ((-px * expand) ** options.resistanceRatio) / expand\n            }\n        }\n\n        state.transforms += px\n    }\n\n    function initStatus (startTransform = 0): void {\n        state.startTransform = startTransform\n        state.isStart = false\n        state.isScrolling = false\n        state.isTouching = false\n    }\n\n    function initLayout (originTransform: number): void {\n        state.transforms = originTransform\n    }\n\n    function preheat (\n        originPosition: Position,\n        originTransform: number\n    ): void {\n        const { tracker } = state\n\n        tracker.push(originPosition)\n        initLayout(originTransform)\n        initStatus(originTransform)\n        state.isStart = true\n\n        render()\n    }\n\n    function move (position: Position): void {\n        const {\n            tracker\n        } = state\n\n        if (!state.isStart || state.isScrolling) return\n\n        tracker.push(position)\n\n        const vector = tracker.vector()\n\n        let offset = 0\n\n        if (options.isHorizontal) {\n            if (vector.angle < options.touchAngle || state.isTouching) {\n                state.isTouching = true\n                offset = vector.x * options.touchRatio\n            } else {\n                state.isScrolling = true\n            }\n        } else {\n            if ((90 - vector.angle) < options.touchAngle || state.isTouching) {\n                state.isTouching = true\n                offset = vector.y * options.touchRatio\n            } else {\n                state.isScrolling = true\n            }\n        }\n\n        scrollPixel(offset)\n        render()\n    }\n\n    function stop (): void {\n        const {\n            index,\n            tracker\n        } = state\n        const duration = tracker.getDuration()\n        const trans = state.transforms - state.startTransform\n        const jump = Math.ceil(Math.abs(trans) / measure.boxSize)\n        const longSwipeIndex = Math.ceil(Math.abs(trans) / measure.boxSize - options.longSwipesRatio)\n\n        state.isStart = false\n\n        console.log(index, state.transforms, state.startTransform, longSwipeIndex)\n        // long siwpe\n        if (duration > options.longSwipesMs) {\n            slideTo(index + longSwipeIndex * (trans > 0 ? -1 : 1))\n        } else {\n            // short swipe\n            slideTo(trans > 0 ? index - jump : index + jump)\n        }\n\n        tracker.clear()\n        initStatus()\n    }\n\n    return {\n        update,\n        render,\n        transform,\n        slideTo,\n        scrollPixel,\n        initStatus,\n        initLayout,\n        preheat,\n        move,\n        stop\n    }\n}\n","import { UserOptions, optionFormatter, Options } from './options'\nimport { EventHub } from './eventHub'\nimport { State } from './state/index'\nimport { Element } from './element'\nimport { Sensor } from './sensor'\nimport { Env } from './env'\nimport { Limitation } from './state/limitation'\nimport { Measure } from './measure'\nimport { Renderer } from './render/index'\nimport { Operations } from './state/operations'\n\nexport type SwiperInstance = {\n    on: (evtName: string, cb: Function) => void\n    off: (evtName: string, cb: Function) => void\n    update: () => void\n    destroy: () => void\n    slideTo: (index: number, duration: number) => void\n    options: Options\n}\nexport type SwiperPlugin = (instance: SwiperInstance, options: Options) => void\nexport type Swiper = {\n    (el: HTMLElement | string, userOptions: UserOptions): SwiperInstance\n    use: (plugins: Array<SwiperPlugin>) => void\n    plugins: Array<SwiperPlugin>\n}\n\nconst Swiper: Swiper = <Swiper> function (el: HTMLElement | string, userOptions: UserOptions): SwiperInstance {\n    const options = optionFormatter(userOptions)\n    const eventHub = EventHub()\n    const env = Env()\n    const element = Element(\n        el,\n        options\n    )\n    const measure = Measure(\n        options,\n        element\n    )\n    const limitation = Limitation(\n        element,\n        measure,\n        options\n    )\n    const renderer = Renderer(\n        element,\n        options,\n        eventHub\n    )\n    const state = State()\n    const operations = Operations(\n        state,\n        options,\n        measure,\n        limitation,\n        renderer,\n        eventHub\n    )\n    const sensor = Sensor(\n        element,\n        env,\n        state,\n        options,\n        operations\n    )\n\n    function destroy (): void {\n        sensor.detach()\n        renderer.destroy()\n        eventHub.clear()\n    }\n\n    function update (): void {\n        const ele = Element(\n            el,\n            options\n        )\n        const meas = Measure(\n            options,\n            element\n        )\n        const limit = Limitation(\n            element,\n            measure,\n            options\n        )\n\n        sensor.detach()\n        operations.update(\n            limit,\n            meas\n        )\n        renderer.update(ele)\n        renderer.init()\n        sensor.attach\n    }\n\n    function on (evtName: string, cb: Function): void {\n        eventHub.on(evtName, cb)\n    }\n\n    function off (evtName: string, cb: Function): void {\n        eventHub.off(evtName, cb)\n    }\n\n    function slideTo (index: number, duration: number): void {\n        operations.slideTo(index, duration)\n    }\n\n    const instance = {\n        state,\n        on,\n        off,\n        update,\n        destroy,\n        slideTo,\n        options\n    }\n\n    function load (): void {\n        (options.plugins || Swiper.plugins || [])\n            .forEach((plugin: SwiperPlugin) => plugin(instance, options))\n\n        renderer.init()\n        sensor.attach()\n        operations.slideTo(options.initialSlide || 0, 0)\n    }\n\n    load()\n\n    return instance\n}\n\nSwiper.use = (plugins: Array<SwiperPlugin>): void => {\n    Swiper.plugins = plugins\n}\n\nexport default Swiper\n"],"names":["defaultOptions","direction","touchRatio","touchAngle","longSwipesRatio","initialSlide","loop","freeMode","mousewheel","pagination","passiveListeners","resistance","resistanceRatio","speed","longSwipesMs","intermittent","spaceBetween","slidesPerView","centeredSlides","slidePrevClass","slideNextClass","slideActiveClass","slideClass","wrapperClass","touchStartPreventDefault","touchStartForcePreventDefault","touchMoveStopPropagation","excludeElements","optionFormatter","userOptions","options","isHorizontal","EventHub","hub","on","evtName","cb","push","off","index","indexOf","splice","emit","data","forEach","clear","delta","Math","PI","Vector","logs","trace","formerTrace","diff","x","y","duration","time","velocityX","velocityY","angle","atan2","abs","Tracker","position","Date","now","vector","length","getLogs","getDuration","first","last","getOffset","State","state","tracker","startTransform","isStart","isScrolling","isTouching","transforms","Element","el","$el","document","body","querySelector","$wrapper","$list","slice","call","getElementsByClassName","addClass","list","Array","isArray","clz","classList","contains","add","removeClass","remove","attachListener","handler","opts","addEventListener","detachListener","removeEventListener","updateStyle","style","forceRender","Object","keys","prop","getComputedStyle","getTranslate","matrix","transform","replace","split","map","parseFloat","arr","Sensor","element","env","operations","formEls","preheat","move","stop","touchable","update","ele","getPosition","e","touch","changedTouches","pageX","pageY","onTouchStart","shouldPreventDefault","target","nodeName","preventDefault","onTouchMove","stopPropagation","onTouchEnd","attach","passive","capture","detach","Env","Boolean","window","navigator","maxTouchPoints","msMaxTouchPoints","DocumentTouch","getExpand","Limitation","measure","viewSize","slideSize","boxSize","expand","base","max","min","minIndex","maxIndex","ceil","limitation","Measure","offsetWidth","offsetHeight","Renderer","eventHub","render","instance","wrapperStyle","transition","undefined","$current","$prev","$next","$slide","i","init","display","willChange","flexDirection","itemStyle","leftExpandList","cloneNode","rightExpandList","$shadowSlide","appendChild","insertBefore","destroy","itemProp","propertyName","removeProperty","Operations","renderer","limit","mes","trans","slideTo","targetIndex","computedIndex","offset","console","log","scrollPixel","px","ratio","Number","toExponential","pow","oldTransform","initStatus","initLayout","originTransform","originPosition","jump","longSwipeIndex","Swiper","sensor","meas","load","plugins","plugin","use"],"mappings":"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"}