{"version":3,"file":"index.esm.js","sources":["../src/core/render/dom.ts","../src/core/render/layout.ts","../src/core/options.ts","../src/core/eventHub.ts","../src/core/state/trace.ts","../src/core/state/index.ts","../src/core/render/nextTick.ts","../src/core/render/animation.ts","../src/core/sensor/actions.ts","../src/core/sensor/index.ts","../src/core/env/measure.ts","../src/core/env/limitation.ts","../src/core/env/index.ts","../src/core/render/index.ts","../src/core/state/operations.ts","../src/core/env/element.ts","../src/core/index.ts","../src/modules/lazyload.ts","../src/modules/pagination.ts","../src/modules/keyboardControl.ts","../src/index.esm.ts"],"sourcesContent":["export function addClass (\n    el: HTMLElement,\n    list: Array<string> | string = []\n): void {\n    if (!Array.isArray(list)) list = [list]\n\n    list.forEach(clz => (!el.classList.contains(clz) && el.classList.add(clz)))\n}\n\nexport function removeClass (\n    el: HTMLElement,\n    list: Array<string> | string = []\n): void {\n    if (!Array.isArray(list)) list = [list]\n\n    list.forEach(clz => (el.classList.contains(clz) && el.classList.remove(clz)))\n}\n\nexport function attachListener (\n    el: HTMLElement | Document | Window,\n    evtName: string,\n    handler: EventListenerOrEventListenerObject,\n    opts?: boolean | AddEventListenerOptions\n): void {\n    el.addEventListener(evtName, handler, opts)\n}\n\nexport function detachListener (\n    el: HTMLElement | Document | Window,\n    evtName: string,\n    handler: EventListenerOrEventListenerObject\n): void {\n    el.removeEventListener(evtName, handler)\n}\n\nexport function removeAttr (\n    el: HTMLElement,\n    attr: string\n): void {\n    el.removeAttribute(attr)\n}\n\nexport function setAttr (\n    el: HTMLElement,\n    attr: string,\n    value = ''\n): HTMLElement {\n    el.setAttribute(attr, value)\n    return el\n}\n\nexport function setStyle (\n    el: HTMLElement,\n    style: {[key: string]: string},\n    forceRender?: boolean\n): HTMLElement {\n    Object.keys(style).forEach(prop => {\n        // TS7015: Element implicitly has an 'any' type because index expression is not of type 'number'.\n        el.style[prop as any] = style[prop]\n    })\n    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n    forceRender && getComputedStyle(el)\n\n    return el\n}\n\nexport function getTranslate (\n    el: HTMLElement,\n    isHorizontal: boolean\n): number {\n    const matrix = getComputedStyle(el).transform.replace(/[a-z]|\\(|\\)|\\s/g, '').split(',').map(parseFloat)\n    let arr: Array<number> = []\n\n    if (matrix.length === 16) {\n        arr = matrix.slice(12, 14)\n    } else if (matrix.length === 6) {\n        arr = matrix.slice(4, 6)\n    }\n    return (<Array<number>>arr)[isHorizontal ? 0 : 1] || 0\n}\n","import { State } from '../state/index'\nimport { Env } from '../env/index'\nimport { setStyle } from './dom'\nimport { Options } from '../options'\n\nexport function translate (\n    state: State,\n    env: Env,\n    options: Options,\n    duration: number\n): void {\n    const {\n        $wrapper\n    } = env.element\n    const wrapperStyle = {\n        transition: state.isStart\n            ? 'none'\n            : `transform ease ${duration}ms`,\n        transform: options.isHorizontal\n            ? `translate3d(${state.transforms}px, 0, 0)`\n            : `translate3d(0, ${state.transforms}px, 0)`\n    }\n\n    setStyle($wrapper, wrapperStyle)\n}\n","import { SwiperPlugin } from './index'\nimport { translate } from './render/layout'\nimport { State } from './state/index'\nimport { Env } from './env/index'\nimport { SwiperPluginLazyloadOptions } from '../modules/lazyload'\nimport { SwiperPluginPaginationOptions } from '../modules/pagination'\nimport { SwiperPluginKeyboardControlOptions } from '../modules/keyboardControl'\n\nexport type Direction = 'horizontal' | 'vertical'\nexport type Injections = {\n    translate: (\n        state: State,\n        env: Env,\n        options: Options,\n        duration: number\n    ) => void\n}\n\nexport type Options = {\n    direction: Direction\n    touchRatio: number\n    touchAngle: number\n    longSwipesRatio: number\n    initialSlide: number\n    loop: boolean\n    freeMode: boolean\n    mousewheel: boolean\n    passiveListeners: boolean\n    resistance: boolean\n    resistanceRatio: number\n    speed: number\n    longSwipesMs: number\n    spaceBetween: number\n    slidesPerView: number\n    centeredSlides: boolean\n    slidePrevClass: string\n    slideNextClass: string\n    slideActiveClass: string\n    slideClass: string\n    wrapperClass: string\n    touchStartPreventDefault: boolean\n    touchStartForcePreventDefault: boolean\n    touchMoveStopPropagation: boolean\n    excludeElements: Array<HTMLElement>\n    isHorizontal: boolean\n    plugins?: Array<SwiperPlugin>\n    injections: Injections\n\n    // Plugins\n    lazyload?: SwiperPluginLazyloadOptions\n    keyboard?: SwiperPluginKeyboardControlOptions\n    pagination?: SwiperPluginPaginationOptions\n}\n\nexport type UserOptions = Partial<Options>\n\nconst defaultOptions: UserOptions = {\n    // `isHorizontal` is computed value\n    direction: 'horizontal',\n    touchRatio: 1,\n    touchAngle: 45,\n    longSwipesRatio: 0.5,\n    initialSlide: 0,\n    loop: false,\n    freeMode: false,\n    mousewheel: false,\n    passiveListeners: true,\n    resistance: true,\n    resistanceRatio: 0.85,\n    speed: 300,\n    longSwipesMs: 300,\n    spaceBetween: 0,\n    slidesPerView: 1,\n    centeredSlides: false,\n    slidePrevClass: 'swiper-slide-prev',\n    slideNextClass: 'swiper-slide-next',\n    slideActiveClass: 'swiper-slide-active',\n    slideClass: 'swiper-slide',\n    wrapperClass: 'swiper-wrapper',\n    touchStartPreventDefault: true,\n    touchStartForcePreventDefault: false,\n    touchMoveStopPropagation: false,\n    excludeElements: [],\n    injections: {\n        translate\n    }\n}\n\nexport function optionFormatter (userOptions: UserOptions): Options {\n    const options = <Options>{\n        ...defaultOptions,\n        ...userOptions\n    }\n\n    return {\n        ...options,\n        isHorizontal: options.direction === 'horizontal'\n    }\n}\n","export type EventHub = {\n    on (evtName: string, cb: Function): void\n    off (evtName: string, cb: Function): void\n    emit (evtName: string, ...data: Array<any>): void\n    clear (): void\n}\n\nexport function EventHub (): EventHub {\n    let hub: {\n        [key: string]: Array<Function>\n    } = {}\n\n    function on (evtName: string, cb: Function): void {\n        if (!hub[evtName]) {\n            hub[evtName] = [cb]\n        } else {\n            hub[evtName].push(cb)\n        }\n    }\n\n    function off (evtName: string, cb: Function): void {\n        if (hub[evtName]) {\n            const index = hub[evtName].indexOf(cb)\n\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            index > -1 && hub[evtName].splice(index, 1)\n        }\n    }\n\n    function emit (evtName: string, ...data: Array<any>): void {\n        if (hub[evtName]) {\n            hub[evtName].forEach(cb => cb(...data))\n        }\n    }\n\n    function clear (): void {\n        hub = {}\n    }\n\n    return {\n        on,\n        off,\n        emit,\n        clear\n    }\n}\n","const delta = 180 / Math.PI\n\nexport type TraceLogs = Array<Trace>\n\nexport type Offset = {\n    /**\n     * offset x\n     */\n    x: number\n\n    /**\n     * offset y\n     */\n    y: number\n}\n\nexport type Position = {\n    /**\n     * postion in the x-axis\n     */\n    x: number\n\n    /**\n     * postion in the y-axis\n     */\n    y: number\n}\n\nexport type Trace = {\n    /**\n     * timestamp of current postion\n     */\n    time: number\n} & Position\n\nexport type Tracker = {\n    push (postion: Position): void\n    vector (): Vector\n    clear (): void\n    getLogs (): TraceLogs\n    getDuration (): number\n    getOffset (): Offset\n}\n\nexport type Vector = {\n    /**\n     * offset in the x-axis\n     */\n    x: number\n\n    /**\n     * offset in the y-axis\n     */\n    y: number\n\n    /**\n     * velocity in the x-axis\n     */\n    velocityX: number\n\n    /**\n     * velocity in the y-axis\n     */\n    velocityY: number\n\n    /**\n     * direction angle\n     */\n    angle: number\n}\n\nexport function Vector (\n    logs: TraceLogs,\n    index: number\n): Vector {\n    const trace = logs[index]\n    const formerTrace = logs[index - 1]\n    const diff = {\n        x: trace.x - formerTrace.x,\n        y: trace.y - formerTrace.y\n    }\n    const duration = trace.time - formerTrace.time\n    const velocityX = diff.x / duration\n    const velocityY = diff.y / duration\n    const angle = Math.atan2(Math.abs(diff.y), Math.abs(diff.x)) * delta\n\n    return {\n        ...diff,\n        angle,\n        velocityX,\n        velocityY\n    }\n}\n\nexport function Tracker (): Tracker {\n    let logs: TraceLogs = []\n\n    function push (position: Position): void {\n        logs.push({\n            time: Date.now(),\n            ...position\n        })\n    }\n\n    function vector (): Vector {\n        return Vector(logs, logs.length - 1)\n    }\n\n    function clear () {\n        logs = []\n    }\n\n    function getLogs () {\n        return logs\n    }\n\n    function getDuration (): number {\n        const first = logs[0]\n        const last = logs[logs.length - 1]\n\n        return first ? last.time - first.time : 0\n    }\n\n    function getOffset (): Offset {\n        const first = logs[0]\n        const last = logs[logs.length - 1]\n\n        return first ? {\n            x: last.x - first.x,\n            y: last.y - first.y\n        } : {\n            x: 0,\n            y: 0\n        }\n    }\n\n    return {\n        getDuration,\n        getOffset,\n        getLogs,\n        vector,\n        clear,\n        push\n    }\n}\n","import { Tracker } from './trace'\n\nexport interface State {\n    tracker: Tracker\n    index: number\n    startTransform: number\n    isStart: boolean\n    isScrolling: boolean\n    isTouching: boolean\n    transforms: number\n    progress: number\n}\n\nexport function State (): State {\n    const state: State = {\n        tracker: Tracker(),\n        index: 0,\n        startTransform: 0,\n        isStart: false,\n        isScrolling: false,\n        isTouching: false,\n        transforms: 0,\n        progress: 0\n    }\n\n    return state\n}\n","function now () {\n    return performance ? performance.now() : Date.now()\n}\n\nexport type Tick = {\n    run (cb: (interval: DOMHighResTimeStamp) => void): void\n    stop (): void\n}\n\nexport function Tick (): Tick {\n    const nextFrame = requestAnimationFrame || webkitRequestAnimationFrame || setTimeout\n    const cancelNextFrame = cancelAnimationFrame || webkitCancelAnimationFrame || clearTimeout\n\n    let startTime: number | undefined\n    let id: number\n\n    function run (cb: (interval: DOMHighResTimeStamp) => void): void {\n        // eslint-disable-next-line no-void\n        startTime = startTime === void 0\n            ? now()\n            : startTime\n\n        // Why do not use callback argument:\n        // https://stackoverflow.com/questions/50895206/exact-time-of-display-requestanimationframe-usage-and-timeline\n        id = nextFrame(() => {\n            const timeStamp = now()\n            const interval = timeStamp - <number>startTime\n\n            startTime = timeStamp\n            cb(interval)\n        })\n    }\n\n    function stop (): void {\n        startTime = undefined\n        cancelNextFrame(id)\n    }\n\n    return {\n        run,\n        stop\n    }\n}\n","import { Tick } from './nextTick'\n\nexport type Animation = {\n    run (task: (interval: DOMHighResTimeStamp) => void): void\n    stop (): void\n}\n\nexport function Animation (): Animation {\n    const tick = Tick()\n\n    function run (task: (interval: DOMHighResTimeStamp) => void): void {\n        tick.run((interval: DOMHighResTimeStamp) => {\n            run(task)\n            task(interval)\n        })\n    }\n\n    function stop (): void {\n        tick.stop()\n    }\n\n    return {\n        run,\n        stop\n    }\n}\n","import { Position } from '../state/trace'\nimport { Options } from '../options'\nimport { Env } from '../env/index'\nimport { State } from '../state/index'\nimport { Operations } from '../state/operations'\nimport { Animation } from '../render/animation'\n\nexport type Actions = {\n    preheat (\n        originPosition: Position,\n        originTransform: number\n    ): void\n    move (position: Position): void\n    stop (): void\n}\n\nexport function Actions (\n    options: Options,\n    env: Env,\n    state: State,\n    operations: Operations\n) {\n    const {\n        initLayout,\n        initStatus,\n        render,\n        scrollPixel,\n        slideTo,\n        getOffsetSteps\n    } = operations\n    const animation = Animation()\n\n    function preheat (\n        originPosition: Position,\n        originTransform: number\n    ): void {\n        const { tracker } = state\n\n        animation.stop()\n        tracker.clear()\n        tracker.push(originPosition)\n        initLayout(originTransform)\n        initStatus(originTransform)\n        state.isStart = true\n\n        render()\n    }\n\n    function move (position: Position): void {\n        const {\n            tracker\n        } = state\n        const {\n            touchRatio,\n            touchAngle,\n            isHorizontal\n        } = options\n\n        if (!state.isStart || state.isScrolling) return\n\n        tracker.push(position)\n\n        const vector = tracker.vector()\n        const displacement = tracker.getOffset()\n\n        // Ignore this move action if there is no displacement of screen touch point.\n        // In case of minimal mouse move event. (Moving mouse extreme slowly will get the zero offset.)\n        if (!displacement.x && !displacement.y) return\n\n        if ((isHorizontal && (vector.angle < touchAngle))\n            || (!isHorizontal && (90 - vector.angle) < touchAngle)\n            || state.isTouching\n        ) {\n            const offset = vector[isHorizontal ? 'x' : 'y'] * touchRatio\n\n            state.isTouching = true\n            scrollPixel(offset)\n            render()\n        } else {\n            state.isScrolling = true\n            tracker.clear()\n        }\n    }\n\n    function stop (): void {\n        const {\n            index,\n            tracker\n        } = state\n        const {\n            measure\n        } = env\n\n        state.isStart = false\n\n        if (!options.freeMode || tracker.getLogs().length < 2) {\n            const duration = tracker.getDuration()\n            const trans = tracker.getOffset()[options.isHorizontal ? 'x' : 'y']\n            const jump = Math.ceil(Math.abs(trans) / measure.boxSize)\n            const longSwipeIndex = getOffsetSteps(trans)\n\n            if (duration > options.longSwipesMs) {\n                slideTo(index + longSwipeIndex * (trans > 0 ? -1 : 1))\n            } else {\n                // short swipe\n                slideTo(trans > 0 ? index - jump : index + jump)\n            }\n\n            tracker.clear()\n            initStatus()\n        } else {\n            const vector = tracker.vector()\n\n            let velocity = vector[options.isHorizontal ? 'velocityX' : 'velocityY']\n\n            animation.run((duration: number) => {\n                const offset = velocity * duration\n\n                velocity *= 0.98\n\n                if (Math.abs(offset) < 0.004) {\n                    animation.stop()\n                    tracker.clear()\n                    initStatus()\n                } else {\n                    scrollPixel(offset)\n                    render(0)\n                }\n            })\n        }\n    }\n\n    return {\n        preheat,\n        move,\n        stop\n    }\n}\n","import { State } from '../state/index'\nimport { Env } from '../env/index'\nimport { attachListener, detachListener, getTranslate } from '../render/dom'\nimport { Options } from '../options'\nimport { Position } from '../state/trace'\nimport { Actions } from './actions'\nimport { Operations } from '../state/operations'\n\nexport type Sensor = {\n    attach: () => void\n    detach: () => void\n}\n\n// Only support single finger touch event.\nexport function Sensor (\n    env: Env,\n    state: State,\n    options: Options,\n    operations: Operations\n): Sensor {\n    const {\n        touchable\n    } = env\n    const formEls = [\n        'INPUT',\n        'SELECT',\n        'OPTION',\n        'TEXTAREA',\n        'BUTTON',\n        'VIDEO'\n    ]\n    const actions = Actions(options, env, state, operations)\n    const {\n        preheat,\n        move,\n        stop\n    } = actions\n\n    function getPosition (e: Event): Position {\n        const touch = touchable ? (<TouchEvent>e).changedTouches[0] : <MouseEvent>e\n\n        return {\n            x: touch.pageX,\n            y: touch.pageY\n        }\n    }\n\n    function onTouchStart (e: Event): void {\n        for (let i = 0; i < options.excludeElements.length; i++) {\n            if (options.excludeElements[i].contains(e.target as Node)) return\n        }\n\n        const {\n            $wrapper\n        } = env.element\n        const shouldPreventDefault = (options.touchStartPreventDefault && formEls.indexOf((<HTMLElement>e.target).nodeName) === -1)\n            || options.touchStartForcePreventDefault\n\n        if (shouldPreventDefault && !options.passiveListeners) e.preventDefault()\n\n        preheat(\n            getPosition(e),\n            getTranslate($wrapper, options.isHorizontal)\n        )\n    }\n\n    function onTouchMove (e: Event): void {\n        if (options.touchMoveStopPropagation) e.stopPropagation()\n\n        move(getPosition(e))\n        state.isTouching && e.preventDefault()\n    }\n\n    function onTouchEnd (): void {\n        stop()\n    }\n\n    function attach (): void {\n        const {\n            $el\n        } = env.element\n\n        if (touchable) {\n            attachListener($el, 'touchstart', onTouchStart, {\n                passive: options.passiveListeners,\n                capture: false\n            })\n            attachListener($el, 'touchmove', onTouchMove)\n            attachListener($el, 'touchend', onTouchEnd)\n            attachListener($el, 'touchcancel', onTouchEnd)\n        } else {\n            attachListener($el, 'mousedown', onTouchStart)\n            attachListener(document, 'mousemove', onTouchMove)\n            attachListener(document, 'mouseup', onTouchEnd)\n        }\n    }\n\n    function detach (): void {\n        const {\n            $el\n        } = env.element\n\n        detachListener($el, 'touchstart', onTouchStart)\n        detachListener($el, 'touchmove', onTouchMove)\n        detachListener($el, 'touchend', onTouchEnd)\n        detachListener($el, 'touchcancel', onTouchEnd)\n        detachListener($el, 'mousedown', onTouchStart)\n        detachListener(document, 'mousemove', onTouchMove)\n        detachListener(document, 'mouseup', onTouchEnd)\n    }\n\n    return {\n        attach,\n        detach\n    }\n}\n","import { Options } from '../options'\nimport { Element } from './element'\n\nexport type Measure = {\n    boxSize: number\n    viewSize: number\n    slideSize: number\n}\n\nexport function Measure (\n    options: Options,\n    element: Element\n): Measure {\n    const {\n        $el\n    } = element\n    const viewSize = options.isHorizontal ? $el.offsetWidth : $el.offsetHeight\n    const slideSize = (viewSize - (Math.ceil(options.slidesPerView - 1)) * options.spaceBetween) / options.slidesPerView\n    const boxSize = slideSize + options.spaceBetween\n\n    return {\n        boxSize,\n        viewSize,\n        slideSize\n    }\n}\n","import { Options } from '../options'\nimport { Element } from './element'\nimport { Measure } from './measure'\n\nexport type Limitation = {\n    min: number\n    max: number\n    base: number\n    expand: number\n    buffer: number\n    minIndex: number\n    maxIndex: number\n}\n\nexport function getExpand (\n    options: Options,\n    element: Element\n): number {\n    if (options.loop) {\n        // return options.slidesPerView >= element.$list.length\n        //     ? options.slidesPerView - element.$list.length + 1\n        //     : 1\n        return Math.ceil(options.slidesPerView)\n    }\n    return 0\n}\n\nexport function Limitation (\n    element: Element,\n    measure: Measure,\n    options: Options\n): Limitation {\n    const {\n        $list\n    } = element\n    const {\n        viewSize,\n        slideSize,\n        boxSize\n    } = measure\n    const expand = getExpand(options, element)\n    const buffer = expand * boxSize\n    const base = -buffer + (options.centeredSlides\n        ? (viewSize - slideSize) / 2\n        : 0)\n    // [min, max] usually equal to [-x, 0]\n    const max = base\n    const min = options.spaceBetween + (options.loop ? slideSize : viewSize) + base - boxSize * $list.length\n    const minIndex = 0\n    const maxIndex = $list.length - ((options.centeredSlides || options.loop)\n        ? 1\n        : Math.ceil(options.slidesPerView))\n\n    const limitation = {\n        max,\n        min,\n        base,\n        expand,\n        buffer,\n        minIndex,\n        maxIndex\n    }\n\n    return limitation\n}\n","import { Options } from '../options'\nimport { Element } from './element'\nimport { Measure } from './measure'\nimport { Limitation } from './limitation'\n\ndeclare global {\n    interface Window {\n        DocumentTouch: any\n    }\n    const DocumentTouch: any\n}\n\nexport type Env = {\n    touchable: boolean\n    element: Element\n    measure: Measure\n    limitation: Limitation\n    update (element: Element): void\n}\n\nexport function Env (\n    elem: Element,\n    options: Options\n): Env {\n    const env = <Env>{}\n\n    function update (element: Element): void {\n        const measure = Measure(\n            options,\n            element\n        )\n        const limitation = Limitation(\n            element,\n            measure,\n            options\n        )\n        const touchable = Boolean(\n            'ontouchstart' in window\n            || navigator.maxTouchPoints > 0\n            || navigator.msMaxTouchPoints > 0\n            || window.DocumentTouch && document instanceof DocumentTouch\n        )\n\n        Object.assign(env, {\n            touchable,\n            element,\n            measure,\n            limitation\n        })\n    }\n\n    env.update = update\n\n    update(elem)\n\n    return env\n}\n","import { Options } from '../options'\nimport {\n    removeClass, addClass, setStyle, setAttr, attachListener, detachListener\n} from './dom'\nimport { State } from '../state/index'\nimport { Env } from '../env/index'\n\nconst shallowTag = 'data-shallow-slider'\nconst sliderTag = 'data-slider'\n\nexport type Renderer = {\n    init (): void\n    render (\n        state: State,\n        duration?: number,\n        cb?: Function,\n        force?: boolean\n    ): void\n    destroy (): void\n    updateSize (): void\n}\n\nexport function Renderer (\n    env: Env,\n    options: Options\n): Renderer {\n    function updateItem (state: State): void {\n        const {\n            $wrapper\n        } = env.element\n        const {\n            index\n        } = state\n\n        $wrapper.querySelectorAll(`[${sliderTag}]`).forEach($slide => {\n            // eslint-disable-next-line no-bitwise\n            const tagNumber = ~~<string>$slide.getAttribute(sliderTag)\n\n            removeClass(<HTMLElement>$slide, [\n                options.slidePrevClass,\n                options.slideNextClass,\n                options.slideActiveClass\n            ])\n\n            if (tagNumber === index) {\n                addClass(<HTMLElement>$slide, options.slideActiveClass)\n            }\n            if (tagNumber === index - 1) {\n                addClass(<HTMLElement>$slide, options.slidePrevClass)\n            }\n            if (tagNumber === index + 1) {\n                addClass(<HTMLElement>$slide, options.slideNextClass)\n            }\n        })\n    }\n\n    function render (\n        state: State,\n        duration?: number,\n        cb?: Function,\n        force?: false\n    ) {\n        const {\n            $wrapper\n        } = env.element\n        const timing = duration === undefined ? options.speed : duration\n\n        options.injections.translate(state, env, options, timing)\n\n        // Update slide style only if scroll action is end.\n        if (!state.isStart) updateItem(state)\n\n        force && getComputedStyle($wrapper).transform\n        cb && setTimeout(cb, timing)\n    }\n\n    function appendExpandList (): void {\n        if (!options.loop) return\n\n        const {\n            element,\n            limitation\n        } = env\n        const {\n            $list,\n            $wrapper\n        } = element\n        const {\n            expand\n        } = limitation\n        const $leftExpandList = $list.slice(-expand)\n            .map($slide => <HTMLElement>$slide.cloneNode(true))\n        const $rightExpandList = $list.slice(0, expand)\n            .map($slide => <HTMLElement>$slide.cloneNode(true))\n\n        $leftExpandList.forEach(($shadowSlide, index) => {\n            $wrapper.appendChild(setAttr($rightExpandList[index], shallowTag))\n            $wrapper.insertBefore(setAttr($leftExpandList[index], shallowTag), $list[0])\n        })\n    }\n\n    function destroyExpandList (): void {\n        env.element.$wrapper\n            .querySelectorAll(`[${shallowTag}]`)\n            .forEach(item => env.element.$wrapper.removeChild(item))\n    }\n\n    function updateDom (): void {\n        env.element.$list.forEach((el, index) => setAttr(el, sliderTag, <any>index))\n\n        destroyExpandList()\n        appendExpandList()\n    }\n\n    function updateSize (): void {\n        const {\n            element,\n            measure\n        } = env\n        const {\n            $wrapper\n        } = element\n        const wrapperStyle = {\n            display: 'flex',\n            willChange: 'transform',\n            flexDirection: options.isHorizontal ? 'row' : 'column'\n        }\n        const itemStyle = {\n            [options.isHorizontal ? 'width' : 'height']: `${measure.slideSize}px`,\n            [options.isHorizontal ? 'margin-right' : 'margin-bottom']: `${options.spaceBetween}px`\n        }\n\n        setStyle($wrapper, wrapperStyle)\n        $wrapper.querySelectorAll(`[${sliderTag}]`)\n            .forEach($slide => setStyle(<HTMLElement>$slide, itemStyle))\n    }\n\n    function init (): void {\n        updateDom()\n        updateSize()\n    }\n\n    function destroy (): void {\n        const {\n            $list,\n            $wrapper\n        } = env.element\n        const arr = ['display', 'will-change', 'flex-direction']\n        const itemProp = options.isHorizontal ? 'margin-right' : 'margin-bottom'\n\n        arr.forEach((propertyName: string) => {\n            $wrapper.style.removeProperty(propertyName)\n        })\n        $list.forEach($slide => $slide.style.removeProperty(itemProp))\n        destroyExpandList()\n    }\n\n    return {\n        init,\n        render,\n        destroy,\n        updateSize\n    }\n}\n","import { State } from './index'\nimport { Limitation } from '../env/limitation'\nimport { EventHub } from '../eventHub'\nimport { Renderer } from '../render/index'\nimport { Options } from '../options'\nimport { Env } from '../env/index'\n\nexport interface Operations {\n    update (): void\n    render (duration?: number): void\n    transform (trans: number): void\n    slideTo (\n        targetIndex: number,\n        duration?: number\n    ): void\n    scrollPixel (px: number): void\n    initStatus (startTransform?: number): void\n    initLayout (originTransform: number): void\n    getOffsetSteps (offset: number): number\n}\n\nexport function isExceedingLimits (\n    velocity: number,\n    transform: number,\n    options: Options,\n    limitation: Limitation\n): boolean {\n    return velocity > 0 && transform > (limitation.max)\n        || velocity < 0 && transform < (limitation.min)\n}\n\n/**\n * Get transform exceed value\n * Return zero if is not reached border.\n *\n * @param transform\n * @param options\n * @param limitation\n */\nexport function getExcess (\n    transform: number,\n    options: Options,\n    limitation: Limitation\n): number {\n    const exceedLeft = transform - limitation.max\n    const exceedRight = transform - limitation.min\n\n    return exceedLeft > 0\n        ? exceedLeft\n        : exceedRight < 0\n            ? exceedRight\n            : 0\n}\n\nexport function Operations (\n    env: Env,\n    state: State,\n    options: Options,\n    renderer: Renderer,\n    eventHub: EventHub\n): Operations {\n    function getOffsetSteps (offset: number): number {\n        const {\n            measure\n        } = env\n        return Math.ceil(Math.abs(offset) / measure.boxSize - options.longSwipesRatio)\n    }\n\n    function render (\n        duration?: number,\n        cb?: Function,\n        force?: boolean\n    ): void {\n        renderer.render(\n            state,\n            duration,\n            cb,\n            force\n        )\n    }\n\n    function transform (trans: number): void {\n        const {\n            min,\n            max\n        } = env.limitation\n        const transRange = max - min + (options.loop ? env.measure.boxSize : 0)\n        const len = transRange + 1\n\n        let progress\n\n        state.transforms = trans\n\n        if (options.loop) {\n            progress = (max - trans) % len / transRange\n\n            state.progress = progress < 0\n                ? 1 + progress\n                : progress > 1\n                    ? progress - 1\n                    : progress\n        } else {\n            progress = (max - trans) / transRange\n\n            state.progress = progress < 0\n                ? 0\n                : progress > 1\n                    ? 1\n                    : progress\n        }\n\n        eventHub.emit('scroll', {\n            ...state\n        })\n    }\n\n    function slideTo (\n        targetIndex: number,\n        duration?: number\n    ): void {\n        const {\n            measure,\n            limitation\n        } = env\n        const len = limitation.maxIndex - limitation.minIndex + 1\n        const computedIndex = options.loop\n            ? (targetIndex % len + len) % len\n            : targetIndex > limitation.maxIndex\n                ? limitation.maxIndex\n                : targetIndex < limitation.minIndex\n                    ? limitation.minIndex\n                    : targetIndex\n        const offset = -computedIndex * measure.boxSize + limitation.base\n\n        // Slide over a cycle.\n        if (state.index === computedIndex\n            && getOffsetSteps(offset - state.transforms) !== 0\n        ) {\n            const excess = getExcess(state.transforms, options, limitation)\n\n            transform(excess > 0\n                ? limitation.min - measure.boxSize + excess\n                : limitation.max + measure.boxSize + excess)\n\n            // Set initial offset for rebounding animation.\n            render(0, undefined, true)\n        }\n\n        eventHub.emit('before-slide',\n            state.index,\n            state,\n            computedIndex)\n        state.index = computedIndex\n        transform(offset)\n        render(duration, () => {\n            eventHub.emit('after-slide',\n                computedIndex,\n                state)\n        })\n    }\n\n    function scrollPixel (px: number): void {\n        const {\n            transforms\n        } = state\n        const {\n            measure,\n            limitation\n        } = env\n        const ratio = Number(px.toExponential().split('e')[1])\n        const expand = ratio <= 0 ? Math.pow(10, -(ratio - 1)) : 1\n\n        let newTransform = transforms\n\n        // For optimizing, do not calculate `px` if options.loop === true\n        if (options.resistance && !options.loop) {\n            if (px > 0 && transforms >= limitation.max) {\n                px -= (px * expand) ** options.resistanceRatio / expand\n            } else if (px < 0 && transforms <= limitation.min) {\n                px += ((-px * expand) ** options.resistanceRatio) / expand\n            }\n        }\n\n        newTransform += px\n\n        if (options.loop) {\n            const vector = state.tracker.vector()\n            const velocity = options.isHorizontal ? vector.velocityX : vector.velocityY\n            const excess = getExcess(transforms, options, limitation)\n\n            if (excess && isExceedingLimits(\n                velocity,\n                transforms,\n                options,\n                limitation\n            )) {\n                newTransform = excess > 0\n                    ? limitation.min - measure.boxSize + excess\n                    : limitation.max + measure.boxSize + excess\n            }\n        }\n\n        transform(newTransform)\n    }\n\n    function initStatus (startTransform = 0): void {\n        state.startTransform = startTransform\n        state.isStart = false\n        state.isScrolling = false\n        state.isTouching = false\n    }\n\n    function initLayout (originTransform: number): void {\n        transform(originTransform)\n    }\n\n    function update (): void {\n        slideTo(state.index, 0)\n        renderer.updateSize()\n    }\n\n    return {\n        update,\n        render,\n        transform,\n        slideTo,\n        scrollPixel,\n        initStatus,\n        initLayout,\n        getOffsetSteps\n    }\n}\n","import { Options } from '../options'\n\nexport type Element = {\n    $el: HTMLElement\n    $list: Array<HTMLElement>\n    $wrapper: HTMLElement\n}\n\nexport function Element (\n    el: HTMLElement | string,\n    options: Options\n): Element {\n    const $el = <HTMLElement>(typeof el === 'string' ? document.body.querySelector(el) : el)\n    const $wrapper = <HTMLElement>$el!.querySelector(`.${options.wrapperClass}`)\n    const $list = [].slice.call($el!.getElementsByClassName(options.slideClass))\n\n    return {\n        $el,\n        $wrapper,\n        $list\n    }\n}\n","import { UserOptions, optionFormatter, Options } from './options'\nimport { EventHub } from './eventHub'\nimport { State } from './state/index'\nimport { Sensor } from './sensor/index'\nimport { Env } from './env/index'\nimport { Renderer } from './render/index'\nimport { Operations } from './state/operations'\nimport { Element } from './env/element'\n\nexport type SwiperInstance = {\n    on: (evtName: string, cb: Function) => void\n    off: (evtName: string, cb: Function) => void\n    update: () => void\n    destroy: () => void\n    slideTo: (index: number, duration?: number) => void\n    options: Options\n    env: Env\n    state: State\n    updateSize: () => void\n    inject: (key: string, injection: Function) => void\n}\nexport type SwiperPlugin = (instance: SwiperInstance, options: Options) => void\n\nexport type Swiper = {\n    (el: HTMLElement | string, userOptions: UserOptions): SwiperInstance\n    use: (plugins: Array<SwiperPlugin>) => void\n    plugins: Array<SwiperPlugin>\n}\n\nconst Swiper: Swiper = <Swiper> function (\n    el: HTMLElement | string,\n    userOptions: UserOptions\n): SwiperInstance {\n    const options = optionFormatter(userOptions)\n    const eventHub = EventHub()\n    const element = Element(\n        el,\n        options\n    )\n    const env = Env(element, options)\n    const state = State()\n    const {\n        on,\n        off,\n        emit\n    } = eventHub\n    const instance = {\n        on,\n        off,\n        env,\n        state,\n        options\n    } as SwiperInstance\n\n    (options.plugins || Swiper.plugins || [])\n        .forEach((plugin: SwiperPlugin) => plugin(\n            instance,\n            options\n        ))\n\n    emit('before-init', instance)\n\n    // Initialize internal module\n    const renderer = Renderer(\n        env,\n        options\n    )\n    const operations = Operations(\n        env,\n        state,\n        options,\n        renderer,\n        eventHub\n    )\n    const sensor = Sensor(\n        env,\n        state,\n        options,\n        operations\n    )\n\n    function destroy (): void {\n        sensor.detach()\n        renderer.destroy()\n        eventHub.clear()\n    }\n\n    function updateSize (): void {\n        env.update(Element(\n            el,\n            options\n        ))\n        operations.update()\n    }\n\n    function update (): void {\n        renderer.destroy()\n        env.update(Element(\n            el,\n            options\n        ))\n        renderer.init()\n        operations.update()\n    }\n\n    const {\n        slideTo\n    } = operations\n\n    Object.assign(instance, {\n        update,\n        destroy,\n        slideTo,\n        updateSize\n    })\n\n    renderer.init()\n    sensor.attach()\n    slideTo(\n        options.initialSlide,\n        0\n    )\n    emit('after-init', instance)\n\n    return instance\n}\n\nSwiper.use = (plugins: Array<SwiperPlugin>): void => {\n    Swiper.plugins = plugins\n}\n\nexport default Swiper\n","import {\n    addClass,\n    removeClass\n} from '../core/render/dom'\nimport { SwiperInstance } from '../core/index'\nimport { Options } from '../core/options'\nimport { State } from '../core/state/index'\n\nexport type SwiperPluginLazyloadOptions = {\n    loadPrevNext: false\n    loadPrevNextAmount: 1\n    loadOnTransitionStart: false\n    elementClass: 'swiper-lazy'\n    loadingClass: 'swiper-lazy-loading'\n    loadedClass: 'swiper-lazy-loaded'\n    preloaderClass: 'swiper-lazy-preloader'\n}\n\nexport type SwiperPluginLazyloadHTMLElement = HTMLImageElement & {\n    isLoaded: boolean\n}\n\n/**\n * TinySwiper plugin for image lazy loading.\n *\n * @param {SwiperInstance} instance\n * @param {Options}\n */\nexport default function SwiperPluginLazyload (\n    instance: SwiperInstance & {\n        lazyload: {\n            load (index: number): void\n            loadRange (\n                index: number,\n                range: number\n            ): void\n        }\n    },\n    options: Options\n) {\n    if (!options.lazyload) return\n\n    const lazyloadOptions = <SwiperPluginLazyloadOptions>options.lazyload\n    const lazyload = {\n        load (index: number): void {\n            const $slide = instance.env.element.$list[index]\n\n            if (!$slide) return\n\n            const $imgs = [].slice.call($slide.getElementsByClassName(lazyloadOptions.elementClass))\n            const $preloaders: HTMLElement[] = [].slice.call($slide.getElementsByClassName(lazyloadOptions.preloaderClass))\n\n            function handleLoaded ($img: SwiperPluginLazyloadHTMLElement) {\n                $img.removeAttribute('data-src')\n                addClass($img, [lazyloadOptions.loadedClass])\n                removeClass($img, [lazyloadOptions.loadingClass])\n                $img.onload = null\n                $img.onerror = null\n                $img.isLoaded = true\n\n                if ($imgs.every((item: SwiperPluginLazyloadHTMLElement) => item.isLoaded)) {\n                    $preloaders.forEach(($preloader: HTMLElement) => {\n                        $preloader.parentElement!.removeChild($preloader)\n                    })\n                }\n            }\n\n            $imgs.forEach(($img: SwiperPluginLazyloadHTMLElement) => {\n                if (!$img.hasAttribute('data-src')) return\n\n                const src = $img.getAttribute('data-src')\n\n                addClass($img, [lazyloadOptions.loadingClass])\n                removeClass($img, [lazyloadOptions.loadedClass])\n                $img.src = src as string\n                $img.onload = () => handleLoaded($img)\n                $img.onerror = () => handleLoaded($img)\n            })\n        },\n\n        loadRange (\n            index: number,\n            range: number\n        ): void {\n            lazyload.load(index)\n\n            if (lazyloadOptions.loadPrevNext && range >= 1) {\n                for (let i = 1; i <= range; i++) {\n                    lazyload.load(index + i)\n                    lazyload.load(index - i)\n                }\n            }\n        }\n    }\n\n    instance.on('before-init', () => {\n        options.lazyload = {\n            loadPrevNext: false,\n            loadPrevNextAmount: 1,\n            loadOnTransitionStart: false,\n            elementClass: 'swiper-lazy',\n            loadingClass: 'swiper-lazy-loading',\n            loadedClass: 'swiper-lazy-loaded',\n            preloaderClass: 'swiper-lazy-preloader',\n            ...options.lazyload\n        }\n    })\n\n    if (lazyloadOptions.loadOnTransitionStart) {\n        instance.on('before-slide', (\n            oldIndex: number,\n            state: State,\n            newIndex: number\n        ) => {\n            lazyload.loadRange(newIndex, lazyloadOptions.loadPrevNextAmount)\n        })\n    } else {\n        instance.on('after-slide', (\n            index: number,\n            state: State\n        ) => {\n            lazyload.loadRange(index, lazyloadOptions.loadPrevNextAmount)\n        })\n    }\n\n    instance.on('after-destroy', () => {\n        if (!instance.lazyload) return\n\n        delete instance.lazyload\n    })\n}\n","import {\n    addClass,\n    removeClass\n} from '../core/render/dom'\nimport { SwiperInstance } from '../core/index'\nimport { Options } from '../core/options'\n\nexport type SwiperPluginPaginationOptions = Options & {\n    pagination: {\n        el: string\n        clickable: false\n        bulletClass: 'swiper-pagination-bullet'\n        bulletActiveClass: 'swiper-pagination-bullet-active'\n    }\n}\n\nexport type SwiperPluginPaginationInstance = {\n    $pageList: HTMLElement[]\n    $pagination: HTMLElement | null\n}\n\nexport default function SwiperPluginPagination (\n    instance: SwiperInstance & {\n        pagination: SwiperPluginPaginationInstance\n    },\n    options: SwiperPluginPaginationOptions\n) {\n    const pagination = {\n        $pageList: [],\n        $pagination: null\n    } as unknown as SwiperPluginPaginationInstance\n\n    instance.on('before-init', () => {\n        if (options.pagination) {\n            options.pagination = {\n                clickable: false,\n                bulletClass: 'swiper-pagination-bullet',\n                bulletActiveClass: 'swiper-pagination-bullet-active',\n                ...options.pagination\n            }\n        }\n    })\n\n    instance.on('after-init', () => {\n        if (!options.pagination) return\n\n        const {\n            bulletClass,\n            bulletActiveClass\n        } = options.pagination\n        const {\n            element\n        } = instance.env\n        const {\n            $list\n        } = element\n\n        const $pagination = (typeof options.pagination.el === 'string'\n            ? document.body.querySelector(options.pagination.el)\n            : options.pagination.el) as HTMLElement\n        const $pageList: Array<HTMLElement> = []\n        const $group = document.createDocumentFragment()\n\n        options.excludeElements.push($pagination as HTMLElement)\n\n        pagination.$pagination = $pagination\n        pagination.$pageList = $pageList\n\n        $list.forEach((item, index) => {\n            const $page = document.createElement('div')\n\n            addClass(\n                $page,\n                index === instance.state.index ? [bulletClass, bulletActiveClass] : bulletClass\n            )\n            $pageList.push($page)\n            $group.appendChild($page)\n        })\n\n        $pagination.appendChild($group)\n\n        if (options.pagination.clickable) {\n            $pagination.addEventListener('click', (e: Event) => {\n                instance.slideTo($pageList.indexOf(e.target as HTMLElement))\n                e.stopPropagation()\n            })\n        }\n    })\n\n    instance.on('after-destroy', () => {\n        if (!options.pagination) return\n\n        pagination.$pagination!.innerHTML = ''\n        pagination.$pageList = []\n        pagination.$pagination = null\n    })\n\n    instance.on('after-slide', (\n        currentIndex: number\n    ) => {\n        const { bulletActiveClass } = options.pagination\n\n        pagination.$pageList && pagination.$pageList.forEach(($page, index) => {\n            if (index === currentIndex) {\n                addClass($page, bulletActiveClass)\n            } else {\n                removeClass($page, bulletActiveClass)\n            }\n        })\n    })\n}\n","import {\n    attachListener,\n    detachListener\n} from '../core/render/dom'\nimport { SwiperInstance } from '../core/index'\nimport { Options } from '../core/options'\n\nexport type SwiperPluginKeyboardControlOptions = {\n    enabled: boolean\n    onlyInViewport: boolean\n}\n\nconst DIRECTION = {\n    up: 'ArrowUp',\n    right: 'ArrowRight',\n    down: 'ArrowDown',\n    left: 'ArrowLeft'\n}\n\nfunction isVisible (el: HTMLElement): boolean {\n    if (!el) return false\n\n    const style = getComputedStyle(el)\n    const visible = style.visibility !== 'hidden' && style.display !== 'none'\n\n    if (!visible) return false\n\n    return el.parentElement && el.parentElement.nodeType === 1\n        ? isVisible(el.parentElement)\n        : true\n}\n\nfunction isElementInView (el: HTMLElement): boolean {\n    const visibility = isVisible(el)\n    const boundary = el.getBoundingClientRect()\n    const isInView = (boundary.top >= 0 && boundary.bottom <= window.innerHeight)\n        && (boundary.left >= 0 && boundary.right <= window.innerWidth)\n\n    return isInView && visibility\n}\n\n/**\n * TinySwiper plugin for keyboard control.\n *\n * @param {SwiperInstance} instance\n * @param {Options}\n */\nexport default function SwiperPluginKeyboardControl (\n    instance: SwiperInstance & {\n        keyboard: {\n            onKeyDown (e: Event): void\n            enable (): void\n            disable (): void\n        }\n    },\n    options: Options\n): void {\n    if (!options.keyboard) return\n\n    const keyboardOptions = <SwiperPluginKeyboardControlOptions>options.keyboard\n    const keyboard = {\n        enable (): void {\n            keyboardOptions.enabled = true\n        },\n        disable (): void {\n            keyboardOptions.enabled = false\n        },\n        onKeyDown (e: KeyboardEvent): void {\n            const { key } = e\n\n            if ((keyboardOptions.onlyInViewport && !isElementInView(instance.env.element.$el))\n                || !keyboardOptions.enabled) return\n\n            if (options.isHorizontal) {\n                if (key === DIRECTION.left) {\n                    instance.slideTo(instance.state.index - 1)\n                } else if (key === DIRECTION.right) {\n                    instance.slideTo(instance.state.index + 1)\n                }\n            } else {\n                if (key === DIRECTION.down) {\n                    instance.slideTo(instance.state.index - 1)\n                } else if (key === DIRECTION.up) {\n                    instance.slideTo(instance.state.index + 1)\n                }\n            }\n        }\n    }\n\n    instance.on('before-init', () => {\n        options.keyboard = {\n            enabled: true,\n            onlyInViewport: true,\n            ...options.keyboard\n        }\n\n        instance.keyboard = keyboard\n\n        attachListener(window, 'keydown', keyboard.onKeyDown as EventListener)\n    })\n\n    instance.on('after-destroy', () => {\n        if (!keyboard) return\n\n        detachListener(window, 'keydown', keyboard.onKeyDown as EventListener)\n\n        delete instance.keyboard\n    })\n}\n","// eslint-disable-next-line import/no-named-default\nimport { default as Swiper, SwiperPlugin } from './core/index'\n\nimport SwiperPluginLazyload from './modules/lazyload'\nimport SwiperPluginPagination from './modules/pagination'\nimport SwiperPluginKeyboardControl from './modules/keyboardControl'\n\nexport {\n    SwiperPluginLazyload,\n    SwiperPluginPagination,\n    SwiperPluginKeyboardControl\n}\n\nexport default Swiper\n"],"names":["addClass","el","list","Array","isArray","forEach","clz","classList","contains","add","removeClass","remove","attachListener","evtName","handler","opts","addEventListener","detachListener","removeEventListener","setAttr","attr","value","setAttribute","setStyle","style","forceRender","Object","keys","prop","getComputedStyle","getTranslate","isHorizontal","matrix","transform","replace","split","map","parseFloat","arr","length","slice","translate","state","env","options","duration","$wrapper","element","wrapperStyle","transition","isStart","transforms","defaultOptions","direction","touchRatio","touchAngle","longSwipesRatio","initialSlide","loop","freeMode","mousewheel","passiveListeners","resistance","resistanceRatio","speed","longSwipesMs","spaceBetween","slidesPerView","centeredSlides","slidePrevClass","slideNextClass","slideActiveClass","slideClass","wrapperClass","touchStartPreventDefault","touchStartForcePreventDefault","touchMoveStopPropagation","excludeElements","injections","optionFormatter","userOptions","EventHub","hub","on","cb","push","off","index","indexOf","splice","emit","data","clear","delta","Math","PI","Vector","logs","trace","formerTrace","diff","x","y","time","velocityX","velocityY","angle","atan2","abs","Tracker","position","Date","now","vector","getLogs","getDuration","first","last","getOffset","State","tracker","startTransform","isScrolling","isTouching","progress","performance","Tick","nextFrame","requestAnimationFrame","webkitRequestAnimationFrame","setTimeout","cancelNextFrame","cancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","startTime","id","run","timeStamp","interval","stop","undefined","Animation","tick","task","Actions","operations","initLayout","initStatus","render","scrollPixel","slideTo","getOffsetSteps","animation","preheat","originPosition","originTransform","move","displacement","offset","measure","trans","jump","ceil","boxSize","longSwipeIndex","velocity","Sensor","touchable","formEls","actions","getPosition","e","touch","changedTouches","pageX","pageY","onTouchStart","i","target","shouldPreventDefault","nodeName","preventDefault","onTouchMove","stopPropagation","onTouchEnd","attach","$el","passive","capture","document","detach","Measure","viewSize","offsetWidth","offsetHeight","slideSize","getExpand","Limitation","$list","expand","buffer","base","max","min","minIndex","maxIndex","limitation","Env","elem","update","Boolean","window","navigator","maxTouchPoints","msMaxTouchPoints","DocumentTouch","assign","shallowTag","sliderTag","Renderer","updateItem","querySelectorAll","$slide","tagNumber","getAttribute","force","timing","appendExpandList","$leftExpandList","cloneNode","$rightExpandList","$shadowSlide","appendChild","insertBefore","destroyExpandList","item","removeChild","updateDom","updateSize","display","willChange","flexDirection","itemStyle","init","destroy","itemProp","propertyName","removeProperty","isExceedingLimits","getExcess","exceedLeft","exceedRight","Operations","renderer","eventHub","transRange","len","targetIndex","computedIndex","excess","px","ratio","Number","toExponential","pow","newTransform","Element","body","querySelector","call","getElementsByClassName","Swiper","instance","plugins","plugin","sensor","use","SwiperPluginLazyload","lazyload","lazyloadOptions","load","$imgs","elementClass","$preloaders","preloaderClass","handleLoaded","$img","removeAttribute","loadedClass","loadingClass","onload","onerror","isLoaded","every","$preloader","parentElement","hasAttribute","src","loadRange","range","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","oldIndex","newIndex","SwiperPluginPagination","pagination","$pageList","$pagination","clickable","bulletClass","bulletActiveClass","$group","createDocumentFragment","$page","createElement","innerHTML","currentIndex","DIRECTION","up","right","down","left","isVisible","visible","visibility","nodeType","isElementInView","boundary","getBoundingClientRect","isInView","top","bottom","innerHeight","innerWidth","SwiperPluginKeyboardControl","keyboard","keyboardOptions","enable","enabled","disable","onKeyDown","key","onlyInViewport"],"mappings":"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"}