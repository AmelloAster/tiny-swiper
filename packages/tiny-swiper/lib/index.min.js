!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Swiper=t()}(this,function(){"use strict";function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var m={direction:"horizontal",touchRatio:1,touchAngle:45,longSwipesRatio:.5,initialSlide:0,loop:!1,freeMode:!1,mousewheel:!1,pagination:!1,passiveListeners:!0,resistance:!0,resistanceRatio:.85,speed:300,longSwipesMs:300,intermittent:0,spaceBetween:0,slidesPerView:1,centeredSlides:!1,slidePrevClass:"swiper-slide-prev",slideNextClass:"swiper-slide-next",slideActiveClass:"swiper-slide-active",slideClass:"swiper-slide",wrapperClass:"swiper-wrapper",touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchMoveStopPropagation:!1,excludeElements:[]};function v(){var o={};return{on:function(e,t){o[e]?o[e].push(t):o[e]=[t]},off:function(e,t){if(o[e]){var n=o[e].indexOf(t);-1<n&&o[e].splice(n,1)}},emit:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o[e]&&o[e].forEach(function(e){return e.apply(void 0,n)})},clear:function(){o={}}}}var l=180/Math.PI;function g(){var c=[];return{getDuration:function(){var e=c[0],t=c[c.length-1];return e?t.time-e.time:0},getOffset:function(){var e=c[0],t=c[c.length-1];return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}},getLogs:function(){return c},vector:function(){return t=(e=c).length-1,n=e[t],i=e[t-1],o={x:n.x-i.x,y:n.y-i.y},r=n.time-i.time,a=o.x/r,s=o.y/r,h({},o,{angle:Math.atan2(Math.abs(o.y),Math.abs(o.x))*l,velocityX:a,velocityY:s});var e,t,n,i,o,r,a,s},clear:function(){c=[]},push:function(e){c.push(h({},e,{time:Date.now()}))}}}function x(e,t){var n="string"==typeof e?document.body.querySelector(e):e,i=n.querySelector("."+t.wrapperClass),o=[].slice.call(n.getElementsByClassName(t.slideClass));return{$el:n,$wrapper:i,$list:o}}function d(t,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return!t.classList.contains(e)&&t.classList.add(e)})}function w(e,t,n,i){e.addEventListener(t,n,i)}function y(e,t,n){e.removeEventListener(t,n)}function p(t,n,e){Object.keys(n).forEach(function(e){t.style[e]=n[e]}),e&&getComputedStyle(t)}function S(a,e,t,s,n){var c=["INPUT","SELECT","OPTION","TEXTAREA","BUTTON","VIDEO"],l=n.preheat,i=n.move,o=n.stop,r=e.touchable;function u(e){var t=r?e.changedTouches[0]:e;return{x:t.pageX,y:t.pageY}}function f(e){var t,n,i,o,r=a.$wrapper;(s.touchStartPreventDefault&&-1===c.indexOf(e.target.nodeName)||s.touchStartForcePreventDefault)&&!s.passiveListeners&&e.preventDefault(),l(u(e),(t=r,n=s.isHorizontal,i=getComputedStyle(t).transform.replace(/[a-z]|\(|\)|\s/g,"").split(",").map(parseFloat),o=[],16===i.length?o=i.slice(12,14):6===i.length&&(o=i.slice(4,6)),o[n?0:1]||0))}function d(e){s.touchMoveStopPropagation&&e.stopPropagation(),i(u(e)),t.isTouching&&e.preventDefault()}function p(e){d(e),o()}return{attach:function(){var e=a.$el;r?(w(e,"touchstart",f,{passive:s.passiveListeners,capture:!1}),w(e,"touchmove",d),w(e,"touchend",p),w(e,"touchcancel",p)):(w(e,"mousedown",f),w(document,"mousemove",d),w(document,"mouseup",p))},detach:function(){var e=a.$el;y(e,"touchstart",f),y(e,"touchmove",d),y(e,"touchend",p),y(e,"touchcancel",p),y(e,"mousedown",f),y(document,"mousemove",d),y(document,"mouseup",p)},update:function(e){a=e}}}function c(e,t){return e.slidesPerView>=t.$list.length?e.slidesPerView-t.$list.length+1:1}function T(e,t,n){var i=e.$list,o=t.viewSize,r=t.slideSize,a=t.boxSize,s=-c(n,e)*a+(n.centeredSlides?(r-o)/2:0);return{max:s,min:n.spaceBetween+o+s-a*i.length,base:s,minIndex:0,maxIndex:i.length-(n.centeredSlides||n.loop?1:Math.ceil(n.slidesPerView))}}function P(e,t){var n=t.$el,i=e.isHorizontal?n.offsetWidth:n.offsetHeight,o=(i-Math.ceil(e.slidesPerView-1)*e.spaceBetween)/e.slidesPerView;return{boxSize:o+e.spaceBetween,viewSize:i,slideSize:o}}function b(u,f){function t(){var e,n=u.$list,i=u.$wrapper,t={display:"flex",willChange:"transform",flexDirection:f.isHorizontal?"row":"column"},o=((e={})[f.isHorizontal?"margin-right":"margin-bottom"]=f.spaceBetween+"px",e);if(p(i,t),n.forEach(function(e){return p(e,o)}),f.loop){var r=c(f,u),a=n.slice(-r).map(function(e){return e.cloneNode(!0)}),s=n.slice(0,r).map(function(e){return e.cloneNode(!0)});a.forEach(function(e,t){i.appendChild(s[t]),i.insertBefore(a[t],n[0])})}}return{init:t,render:function(e,t,n){var i=u.$list,o=u.$wrapper,r=e.index,a={transition:e.isStart?"none":"transform ease "+(void 0===t?f.speed:t)+"ms",transform:f.isHorizontal?"translate3d("+e.transforms+"px, 0, 0)":"translate3d(0, "+e.transforms+"px, 0)"},s=i[r],c=i[r-1],l=i[r+1];p(o,a),e.isStart||i.forEach(function(e,t){var n,i;n=e,void 0===(i=[f.slidePrevClass,f.slideNextClass,f.slideActiveClass])&&(i=[]),Array.isArray(i)||(i=[i]),i.forEach(function(e){return n.classList.contains(e)&&n.classList.remove(e)}),t===r&&d(s,f.slideActiveClass),t===r-1&&d(c,f.slidePrevClass),t===r+1&&d(l,f.slideNextClass)})},update:function(e){u=e,t()},destroy:function(){var e=u.$list,t=u.$wrapper,n=f.isHorizontal?"margin-right":"margin-bottom";["display","will-change","flex-direction"].forEach(function(e){t.style.removeProperty(e)}),e.forEach(function(e){return e.style.removeProperty(n)})}}}function z(a,s,c,r,t,l){function u(e){t.render(a,e)}function f(e){a.transforms=e}function d(e,t){var n;if(s.loop){n=e<r.minIndex?r.maxIndex-(r.minIndex-e)+1:e>r.maxIndex?r.minIndex+(e-r.maxIndex)-1:e;var i=-e*c.boxSize+r.base;console.log(n,e,i),f(i)}else{var o=-(n=e<r.minIndex?r.minIndex:e>r.maxIndex?r.maxIndex:e)*c.boxSize+r.base;f(o>r.max?r.max:o<r.min?r.min:o)}a.index=n,l.emit("before-slide",e,a),u(t)}function o(e){var t=a.transforms,n=Number(e.toExponential().split("e")[1]),i=n<=0?Math.pow(10,-(n-1)):1,o=t;s.resistance&&!s.loop&&(0<e&&o>=r.max?e-=Math.pow(e*i,s.resistanceRatio)/i:e<0&&o<=r.min&&(e+=Math.pow(-e*i,s.resistanceRatio)/i)),a.transforms+=e}function p(e){void 0===e&&(e=0),a.startTransform=e,a.isStart=!1,a.isScrolling=!1,a.isTouching=!1}function n(e){a.transforms=e}return{update:function(e,t){r=e,c=t},render:u,transform:f,slideTo:d,scrollPixel:o,initStatus:p,initLayout:n,preheat:function(e,t){a.tracker.push(e),n(t),p(t),a.isStart=!0,u()},move:function(e){var t=a.tracker;if(a.isStart&&!a.isScrolling){t.push(e);var n=t.vector(),i=0;s.isHorizontal?n.angle<s.touchAngle||a.isTouching?(a.isTouching=!0,i=n.x*s.touchRatio):a.isScrolling=!0:90-n.angle<s.touchAngle||a.isTouching?(a.isTouching=!0,i=n.y*s.touchRatio):a.isScrolling=!0,o(i),u()}},stop:function(){var e=a.index,t=a.tracker,n=t.getDuration(),i=a.transforms-a.startTransform,o=Math.ceil(Math.abs(i)/c.boxSize),r=Math.ceil(Math.abs(i)/c.boxSize-s.longSwipesRatio);a.isStart=!1,console.log(e,a.transforms,a.startTransform,r),n>s.longSwipesMs?d(e+r*(0<i?-1:1)):d(0<i?e-o:e+o),t.clear(),p()}}}function E(i,e){var t,o=(t=h({},m,{},e),h({},t,{isHorizontal:"horizontal"===t.direction})),n=v(),r={touchable:Boolean("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch)},a=x(i,o),s=P(o,a),c=T(a,s,o),l=b(a,o),u={tracker:g(),index:0,startTransform:0,isStart:!1,isScrolling:!1,isTouching:!1,transforms:0},f=z(u,o,s,c,l,n),d=S(a,r,u,o,f),p={state:u,on:function(e,t){n.on(e,t)},off:function(e,t){n.off(e,t)},update:function(){var e=x(i,o),t=P(o,a),n=T(a,s,o);d.detach(),f.update(n,t),l.update(e),l.init()},destroy:function(){d.detach(),l.destroy(),n.clear()},slideTo:function(e,t){f.slideTo(e,t)},options:o};return(o.plugins||E.plugins||[]).forEach(function(e){return e(p,o)}),l.init(),d.attach(),f.slideTo(o.initialSlide||0,0),p}return E.use=function(e){E.plugins=e},E});
