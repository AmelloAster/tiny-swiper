!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Swiper=t()}(this,function(){"use strict";function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var y={direction:"horizontal",touchRatio:1,touchAngle:45,longSwipesRatio:.5,initialSlide:0,loop:!1,freeMode:!1,mousewheel:!1,pagination:!1,passiveListeners:!0,resistance:!0,resistanceRatio:.85,speed:300,longSwipesMs:300,intermittent:0,spaceBetween:0,slidesPerView:1,centeredSlides:!1,slidePrevClass:"swiper-slide-prev",slideNextClass:"swiper-slide-next",slideActiveClass:"swiper-slide-active",slideClass:"swiper-slide",wrapperClass:"swiper-wrapper",touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchMoveStopPropagation:!1,excludeElements:[]};function S(){var o={};return{on:function(e,t){o[e]?o[e].push(t):o[e]=[t]},off:function(e,t){if(o[e]){var n=o[e].indexOf(t);-1<n&&o[e].splice(n,1)}},emit:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o[e]&&o[e].forEach(function(e){return e.apply(void 0,n)})},clear:function(){o={}}}}var l=180/Math.PI;function w(){var c=[];return{getDuration:function(){var e=c[0],t=c[c.length-1];return e?t.time-e.time:0},getOffset:function(){var e=c[0],t=c[c.length-1];return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}},getLogs:function(){return c},vector:function(){return t=(e=c).length-1,n=e[t],i=e[t-1],o={x:n.x-i.x,y:n.y-i.y},r=n.time-i.time,a=o.x/r,s=o.y/r,x({},o,{angle:Math.atan2(Math.abs(o.y),Math.abs(o.x))*l,velocityX:a,velocityY:s});var e,t,n,i,o,r,a,s},clear:function(){c=[]},push:function(e){c.push(x({},e,{time:Date.now()}))}}}function a(t,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return!t.classList.contains(e)&&t.classList.add(e)})}function v(e,t,n,i){e.addEventListener(t,n,i)}function h(e,t,n){e.removeEventListener(t,n)}function u(e,t,n){return void 0===n&&(n=""),e.setAttribute(t,n),e}function f(t,n,e){return Object.keys(n).forEach(function(e){t.style[e]=n[e]}),e&&getComputedStyle(t),t}function o(){return performance?performance.now():Date.now()}function t(){var i,e,t=requestAnimationFrame||webkitRequestAnimationFrame||setTimeout,n=cancelAnimationFrame||webkitCancelAnimationFrame||clearTimeout;return{run:function(n){i=void 0===i?o():i,e=t(function(){var e=o(),t=e-i;i=e,n(t)})},stop:function(){i=void 0,n(e)}}}function n(){var e=t();return{run:function t(n){e.run(function(e){t(n),n(e)})},stop:function(){e.stop()}}}function g(c,l,u,e){var i=e.initLayout,f=e.initStatus,p=e.render,d=e.scrollPixel,m=e.slideTo,v=e.getOffsetSteps,h=n();return{preheat:function(e,t){var n=u.tracker;h.stop(),n.clear(),n.push(e),i(t),f(t),u.isStart=!0,p()},move:function(e){var t=u.tracker,n=c.touchRatio,i=c.touchAngle,o=c.isHorizontal;if(u.isStart&&!u.isScrolling){t.push(e);var r=t.vector(),a=t.getOffset();if(a.x||a.y)if(o&&r.angle<i||!o&&90-r.angle<i||u.isTouching){var s=r[o?"x":"y"]*n;u.isTouching=!0,d(s),p()}else u.isScrolling=!0,t.clear()}},stop:function(){var e=u.index,n=u.tracker,t=l.measure;if(!c.freeMode||n.getLogs().length<2){var i=n.getDuration(),o=n.getOffset()[c.isHorizontal?"x":"y"],r=Math.ceil(Math.abs(o)/t.boxSize),a=v(o);i>c.longSwipesMs?m(e+a*(0<o?-1:1)):m(0<o?e-r:e+r),n.clear(),f()}else{var s=n.vector()[c.isHorizontal?"velocityX":"velocityY"];h.run(function(e){var t=s*e;s*=.98,Math.abs(t)<.004?(h.stop(),n.clear(),f()):(d(t),p(0))})}}}}function b(a,t,s,e,n){var i=a.touchable,c=["INPUT","SELECT","OPTION","TEXTAREA","BUTTON","VIDEO"],o=n.get("Motions",g)(s,a,t,e),l=o.preheat,r=o.move,u=o.stop;function f(e){var t=i?e.changedTouches[0]:e;return{x:t.pageX,y:t.pageY}}function p(e){var t,n,i,o,r=a.element.$wrapper;(s.touchStartPreventDefault&&-1===c.indexOf(e.target.nodeName)||s.touchStartForcePreventDefault)&&!s.passiveListeners&&e.preventDefault(),l(f(e),(t=r,n=s.isHorizontal,i=getComputedStyle(t).transform.replace(/[a-z]|\(|\)|\s/g,"").split(",").map(parseFloat),o=[],16===i.length?o=i.slice(12,14):6===i.length&&(o=i.slice(4,6)),o[n?0:1]||0))}function d(e){s.touchMoveStopPropagation&&e.stopPropagation(),r(f(e)),t.isTouching&&e.preventDefault()}function m(){u()}return{attach:function(){var e=a.element.$el;i?(v(e,"touchstart",p,{passive:s.passiveListeners,capture:!1}),v(e,"touchmove",d),v(e,"touchend",m),v(e,"touchcancel",m)):(v(e,"mousedown",p),v(document,"mousemove",d),v(document,"mouseup",m))},detach:function(){var e=a.element.$el;h(e,"touchstart",p),h(e,"touchmove",d),h(e,"touchend",m),h(e,"touchcancel",m),h(e,"mousedown",p),h(document,"mousemove",d),h(document,"mouseup",m)}}}function z(e,t,n){var i,o=e.$list,r=t.viewSize,a=t.slideSize,s=t.boxSize,c=(i=n).loop?Math.ceil(i.slidesPerView):0,l=c*s,u=-l+(n.centeredSlides?(r-a)/2:0);return{max:u,min:n.spaceBetween+(n.loop?a:r)+u-s*o.length,base:u,expand:c,buffer:l,minIndex:0,maxIndex:o.length-(n.centeredSlides||n.loop?1:Math.ceil(n.slidesPerView))}}function P(d,m){var v={};function e(){var e,t,n,i,o,r,a,s,c,l=(t=m,n="string"==typeof(e=d)?document.body.querySelector(e):e,i=n.querySelector("."+t.wrapperClass),o=[].slice.call(n.getElementsByClassName(t.slideClass)),{$el:n,$wrapper:i,$list:o}),u=(a=l.$el,s=(r=m).isHorizontal?a.offsetWidth:a.offsetHeight,{boxSize:(c=(s-Math.ceil(r.slidesPerView-1)*r.spaceBetween)/r.slidesPerView)+r.spaceBetween,viewSize:s,slideSize:c}),f=z(l,u,m),p=Boolean("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch);Object.assign(v,{touchable:p,element:l,measure:u,limitation:f})}return(v.update=e)(),v}var p="data-shallow-slider",d="data-slider";function T(s,c){function o(){s.element.$wrapper.querySelectorAll("["+p+"]").forEach(function(e){return s.element.$wrapper.removeChild(e)})}function e(){s.element.$list.forEach(function(e,t){return u(e,d,t)}),o(),function(){if(c.loop){var e=s.element,t=s.limitation,n=e.$list,i=e.$wrapper,o=t.expand,r=n.slice(-o).map(function(e){return e.cloneNode(!0)}),a=n.slice(0,o).map(function(e){return e.cloneNode(!0)});r.forEach(function(e,t){i.appendChild(u(a[t],p)),i.insertBefore(u(r[t],p),n[0])})}}()}function t(){var e,t=s.element,n=s.measure,i=t.$wrapper,o={display:"flex",willChange:"transform",flexDirection:c.isHorizontal?"row":"column"},r=((e={})[c.isHorizontal?"width":"height"]=n.slideSize+"px",e[c.isHorizontal?"margin-right":"margin-bottom"]=c.spaceBetween+"px",e);f(i,o),i.querySelectorAll("["+d+"]").forEach(function(e){return f(e,r)})}return{init:function(){e(),t()},render:function(e,t,n,i){var o=s.element.$wrapper,r=e.index;f(o,{transition:e.isStart?"none":"transform ease "+(void 0===t?c.speed:t)+"ms",transform:c.isHorizontal?"translate3d("+e.transforms+"px, 0, 0)":"translate3d(0, "+e.transforms+"px, 0)"}),e.isStart||o.querySelectorAll("["+d+"]").forEach(function(e){var t,n,i=~~e.getAttribute(d);t=e,void 0===(n=[c.slidePrevClass,c.slideNextClass,c.slideActiveClass])&&(n=[]),Array.isArray(n)||(n=[n]),n.forEach(function(e){return t.classList.contains(e)&&t.classList.remove(e)}),i===r&&a(e,c.slideActiveClass),i==r-1&&a(e,c.slidePrevClass),i===r+1&&a(e,c.slideNextClass)}),i&&getComputedStyle(o).transform},destroy:function(){var e=s.element,t=e.$list,n=e.$wrapper,i=c.isHorizontal?"margin-right":"margin-bottom";["display","will-change","flex-direction"].forEach(function(e){n.style.removeProperty(e)}),t.forEach(function(e){return e.style.removeProperty(i)}),o()},updateSize:t}}function M(e,t,n){var i=e-n.max,o=e-n.min;return 0<i?i:o<0?o:0}function C(d,m,v,i,c){function l(e){var t=d.measure;return Math.ceil(Math.abs(e)/t.boxSize-v.longSwipesRatio)}function u(e,t,n){i.render(m,e,t,n)}function h(e){var t,n=d.limitation,i=n.min,o=n.max,r=o-i+(v.loop?d.measure.boxSize:0),a=r+1;m.transforms=e,v.loop?(t=(o-e)%a/r,m.progress=t<0?1+t:1<t?t-1:t):(t=(o-e)/r,m.progress=t<0?0:1<t?1:t),c.emit("scroll",x({},m))}function e(e,t){var n=d.measure,i=d.limitation,o=i.maxIndex-i.minIndex+1,r=v.loop?(e%o+o)%o:e>i.maxIndex?i.maxIndex:e<i.minIndex?i.minIndex:e,a=-r*n.boxSize+i.base;if(m.index===r&&0!==l(a-m.transforms)){var s=M(m.transforms,0,i);h(0<s?i.min-n.boxSize+s:i.max+n.boxSize+s),u(0,void 0,!0)}m.index=r,h(a),c.emit("before-slide",e,m),u(t)}return{update:function(){e(m.index,0),i.updateSize()},render:u,transform:h,slideTo:e,scrollPixel:function(e){var t,n,i,o=m.transforms,r=d.measure,a=d.limitation,s=Number(e.toExponential().split("e")[1]),c=s<=0?Math.pow(10,-(s-1)):1,l=o;if(v.resistance&&!v.loop&&(0<e&&o>=a.max?e-=Math.pow(e*c,v.resistanceRatio)/c:e<0&&o<=a.min&&(e+=Math.pow(-e*c,v.resistanceRatio)/c)),l+=e,v.loop){var u=m.tracker.vector(),f=v.isHorizontal?u.velocityX:u.velocityY,p=M(o,0,a);p&&(n=o,i=a,0<(t=f)&&n>i.max||t<0&&n<i.min)&&(l=0<p?a.min-r.boxSize+p:a.max+r.boxSize+p)}h(l)},initStatus:function(e){void 0===e&&(e=0),m.startTransform=e,m.isStart=!1,m.isScrolling=!1,m.isTouching=!1},initLayout:function(e){h(e)},getOffsetSteps:l}}function E(){var n={};return{inject:function(e,t){Object.defineProperty(n,e,{value:t,writable:!1})},get:function(e,t){return n[e]||t}}}function A(e,t){var n,i=(n=x({},y,{},t),x({},n,{isHorizontal:"horizontal"===n.direction})),o=S(),r=P(e,i),a={tracker:w(),index:0,startTransform:0,isStart:!1,isScrolling:!1,isTouching:!1,transforms:0,progress:0},s=E(),c=o.on,l=o.off,u=o.emit,f={on:c,off:l,env:r,state:a,options:i};(i.plugins||A.plugins||[]).forEach(function(e){return e(f,i)}),u("before-init",f);var p=T(r,i),d=C(r,a,i,p,o),m=b(r,a,i,d,s);function v(){r.update(),d.update()}var h=d.slideTo,g=s.inject;return Object.assign(f,{update:function(){p.destroy(),r.update(),p.init(),v()},destroy:function(){m.detach(),p.destroy(),o.clear()},slideTo:h,updateSize:v,inject:g}),p.init(),m.attach(),d.slideTo(i.initialSlide,0),u("after-init",f),f}return A.use=function(e){A.plugins=e},A});
