!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Swiper=t()}(this,function(){"use strict";function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var p={direction:"horizontal",touchRatio:1,touchAngle:45,longSwipesRatio:.5,initialSlide:0,loop:!1,freeMode:!1,mousewheel:!1,pagination:!1,passiveListeners:!0,resistance:!0,resistanceRatio:.85,speed:300,longSwipesMs:300,intermittent:0,spaceBetween:0,slidesPerView:1,centeredSlides:!1,slidePrevClass:"swiper-slide-prev",slideNextClass:"swiper-slide-next",slideActiveClass:"swiper-slide-active",slideClass:"swiper-slide",wrapperClass:"swiper-wrapper",touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchMoveStopPropagation:!1,excludeElements:[]};function d(){var o={};return{on:function(e,t){o[e]?o[e].push(t):o[e]=[t]},off:function(e,t){if(o[e]){var n=o[e].indexOf(t);-1<n&&o[e].splice(n,1)}},emit:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o[e]&&o[e].forEach(function(e){return e.apply(void 0,n)})},clear:function(){o={}}}}var c=180/Math.PI;function m(){var l=[];return{getDuration:function(){var e=l[0],t=l[l.length-1];return e?t.time-e.time:0},getOffset:function(){var e=l[0],t=l[l.length-1];return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}},getLogs:function(){return l},vector:function(){return t=(e=l).length-1,n=e[t],i=e[t-1],o={x:n.x-i.x,y:n.y-i.y},r=n.time-i.time,a=o.x/r,s=o.y/r,f({},o,{angle:Math.atan2(Math.abs(o.y),Math.abs(o.x))*c,velocityX:a,velocityY:s});var e,t,n,i,o,r,a,s},clear:function(){l=[]},push:function(e){l.push(f({},e,{time:Date.now()}))}}}function h(t,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return!t.classList.contains(e)&&t.classList.add(e)})}function v(e,t,n,i){e.addEventListener(t,n,i)}function g(e,t,n){e.removeEventListener(t,n)}function x(t,n,e){Object.keys(n).forEach(function(e){t.style[e]=n[e]}),e&&getComputedStyle(t)}function w(a,t,s,e){var l=["INPUT","SELECT","OPTION","TEXTAREA","BUTTON","VIDEO"],c=e.preheat,n=e.move,i=e.stop,o=a.touchable;function u(e){var t=o?e.changedTouches[0]:e;return{x:t.pageX,y:t.pageY}}function r(e){var t,n,i,o,r=a.element.$wrapper;(s.touchStartPreventDefault&&-1===l.indexOf(e.target.nodeName)||s.touchStartForcePreventDefault)&&!s.passiveListeners&&e.preventDefault(),c(u(e),(t=r,n=s.isHorizontal,i=getComputedStyle(t).transform.replace(/[a-z]|\(|\)|\s/g,"").split(",").map(parseFloat),o=[],16===i.length?o=i.slice(12,14):6===i.length&&(o=i.slice(4,6)),o[n?0:1]||0))}function f(e){s.touchMoveStopPropagation&&e.stopPropagation(),n(u(e)),t.isTouching&&e.preventDefault()}function p(e){f(e),i()}return{attach:function(){var e=a.element.$el;o?(v(e,"touchstart",r,{passive:s.passiveListeners,capture:!1}),v(e,"touchmove",f),v(e,"touchend",p),v(e,"touchcancel",p)):(v(e,"mousedown",r),v(document,"mousemove",f),v(document,"mouseup",p))},detach:function(){var e=a.element.$el;g(e,"touchstart",r),g(e,"touchmove",f),g(e,"touchend",p),g(e,"touchcancel",p),g(e,"mousedown",r),g(document,"mousemove",f),g(document,"mouseup",p)}}}function y(T,E){var $={};function e(){var e,t,n,i,o,r,a,s,l,c,u,f,p,d,m,h,v,g,x,w,y,S=(t=E,n="string"==typeof(e=T)?document.body.querySelector(e):e,i=n.querySelector("."+t.wrapperClass),o=[].slice.call(n.getElementsByClassName(t.slideClass)),{$el:n,$wrapper:i,$list:o}),z=(a=S.$el,s=(r=E).isHorizontal?a.offsetWidth:a.offsetHeight,{boxSize:(l=(s-Math.ceil(r.slidesPerView-1)*r.spaceBetween)/r.slidesPerView)+r.spaceBetween,viewSize:s,slideSize:l}),P=(f=E,m=(c=S).$list,h=(u=z).viewSize,v=u.slideSize,g=u.boxSize,d=c,x=(p=f).loop?p.slidesPerView>=d.$list.length?p.slidesPerView-d.$list.length+1:1:0,{max:y=-(w=x*g)+(f.centeredSlides?(v-h)/2:0),min:f.spaceBetween+h+y-g*m.length,base:y,expand:x,buffer:w,minIndex:0,maxIndex:m.length-(f.centeredSlides||f.loop?1:Math.ceil(f.slidesPerView))}),b=Boolean("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch);Object.assign($,{touchable:b,element:S,measure:z,limitation:P})}return($.update=e)(),$}function S(f,p){var s=[],l=[];function o(){s.splice(0,s.length).concat(l.splice(0,l.length)).forEach(function(e){return f.element.$wrapper.removeChild(e)})}function e(){o(),function(){if(p.loop){var e,t,n=f.element,i=n.$list,o=n.$wrapper,r=(t=n,(e=p).loop?e.slidesPerView>=t.$list.length?e.slidesPerView-t.$list.length+1:1:0);s=i.slice(-r).map(function(e){return e.cloneNode(!0)}),l=i.slice(0,r).map(function(e){return e.cloneNode(!0)}),console.log(s,l),s.forEach(function(e,t){o.appendChild(l[t]),o.insertBefore(s[t],i[0])})}}()}function t(){var e,t=f.element,n=f.measure,i=t.$list,o=t.$wrapper,r={display:"flex",willChange:"transform",flexDirection:p.isHorizontal?"row":"column"},a=((e={})[p.isHorizontal?"width":"height"]=n.slideSize+"px",e[p.isHorizontal?"margin-right":"margin-bottom"]=p.spaceBetween+"px",e);x(o,r),i.slice().concat(s,l).forEach(function(e){return x(e,a)})}return{init:function(){e(),t()},render:function(e,t,n){var i=f.element,o=i.$list,r=i.$wrapper,a=e.index,s={transition:e.isStart?"none":"transform ease "+(void 0===t?p.speed:t)+"ms",transform:p.isHorizontal?"translate3d("+e.transforms+"px, 0, 0)":"translate3d(0, "+e.transforms+"px, 0)"},l=o[a],c=o[a-1],u=o[a+1];x(r,s),e.isStart||o.forEach(function(e,t){var n,i;n=e,void 0===(i=[p.slidePrevClass,p.slideNextClass,p.slideActiveClass])&&(i=[]),Array.isArray(i)||(i=[i]),i.forEach(function(e){return n.classList.contains(e)&&n.classList.remove(e)}),t===a&&h(l,p.slideActiveClass),t===a-1&&h(c,p.slidePrevClass),t===a+1&&h(u,p.slideNextClass)})},destroy:function(){var e=f.element,t=e.$list,n=e.$wrapper,i=p.isHorizontal?"margin-right":"margin-bottom";["display","will-change","flex-direction"].forEach(function(e){n.style.removeProperty(e)}),t.forEach(function(e){return e.style.removeProperty(i)}),o()},updateSize:t}}function z(g,x,w,t,s){function l(e){t.render(x,e)}function c(e){x.transforms=e}function u(e,t){var n=g.measure,i=g.limitation,o=i.maxIndex-i.minIndex+1,r=w.loop?(e%o+o)%o:e>i.maxIndex?i.maxIndex:e<i.minIndex?i.minIndex:e,a=-r*n.boxSize+i.base;console.log(e,r,o),c(a>i.max?i.max:a<i.min?i.min:a),x.index=r,s.emit("before-slide",e,x),l(t)}function o(e){var t,n,i,o,r,a,s,l=x.transforms,c=g.measure,u=g.limitation,f=Number(e.toExponential().split("e")[1]),p=f<=0?Math.pow(10,-(f-1)):1,d=l;if(w.resistance&&!w.loop&&(0<e&&l>=u.max?e-=Math.pow(e*p,w.resistanceRatio)/p:e<0&&l<=u.min&&(e+=Math.pow(-e*p,w.resistanceRatio)/p)),d+=e,w.loop){var m=x.tracker.vector(),h=w.isHorizontal?m.velocityX:m.velocityY,v=(a=(o=l)-(r=u).max,s=o-r.min,0<a?a:s<0?s:0);v&&(n=l,i=u,(0<(t=h)&&n>i.max||t<0&&n<i.min)&&console.log(t,n,i.max,i.min),0<t&&n>i.max||t<0&&n<i.min)&&(d=0<v?u.min-c.boxSize+v:u.max+c.boxSize+v)}x.transforms=d}function f(e){void 0===e&&(e=0),x.startTransform=e,x.isStart=!1,x.isScrolling=!1,x.isTouching=!1}function n(e){x.transforms=e}return{update:function(){},render:l,transform:c,slideTo:u,scrollPixel:o,initStatus:f,initLayout:n,preheat:function(e,t){x.tracker.push(e),n(t),f(t),x.isStart=!0,l()},move:function(e){var t=x.tracker;if(x.isStart&&!x.isScrolling){t.push(e);var n=t.vector(),i=0;w.isHorizontal?n.angle<w.touchAngle||x.isTouching?(x.isTouching=!0,i=n.x*w.touchRatio):x.isScrolling=!0:90-n.angle<w.touchAngle||x.isTouching?(x.isTouching=!0,i=n.y*w.touchRatio):x.isScrolling=!0,o(i),l()}},stop:function(){var e=x.index,t=x.tracker,n=g.measure,i=t.getDuration(),o=t.getOffset()[w.isHorizontal?"x":"y"],r=Math.ceil(Math.abs(o)/n.boxSize),a=Math.ceil(Math.abs(o)/n.boxSize-w.longSwipesRatio);x.isStart=!1,i>w.longSwipesMs?u(e+a*(0<o?-1:1)):u(0<o?e-r:e+r),t.clear(),f()}}}function P(e,t){var n,i=(n=f({},p,{},t),f({},n,{isHorizontal:"horizontal"===n.direction})),o=d(),r=y(e,i),a={tracker:m(),index:0,startTransform:0,isStart:!1,isScrolling:!1,isTouching:!1,transforms:0},s=S(r,i),l=z(r,a,i,s,o),c=w(r,a,i,l),u={env:r,state:a,on:function(e,t){o.on(e,t)},off:function(e,t){o.off(e,t)},update:function(){s.destroy(),r.update(),s.init(),r.update(),l.update(),s.updateSize()},destroy:function(){c.detach(),s.destroy(),o.clear()},slideTo:function(e,t){l.slideTo(e,t)},options:i};return(i.plugins||P.plugins||[]).forEach(function(e){return e(u,i)}),s.init(),c.attach(),l.slideTo(i.initialSlide||0,0),u}return P.use=function(e){P.plugins=e},P});
